\documentclass[11pt]{book}
\usepackage{mathptm,times}
\usepackage[pdftex]{graphicx}
%\usepackage{hyperref}
%\usepackage{array,eqnarray}
%\usepackage{eso-pic}
%\usepackage{graphicx}
%\usepackage{color}
%\usepackage{type1cm}

%\makeatletter
%   \AddToShipoutPicture{%
%     \setlength{\@tempdimb}{.5\paperwidth}%
%    \setlength{\@tempdimc}{.5\paperheight}%
%   \setlength{\unitlength}{1pt}%
%  \put(\strip@pt\@tempdimb,\strip@pt\@tempdimc){%
%     \makebox(0,0){\rotatebox{45}{\textcolor[gray]{0.75}{\fontsize{8cm}{8cm}\selectfont{DRAFT}}}}}}
%\makeatother

\usepackage[pdftex,
        colorlinks=true,
        urlcolor=linkblue,     % \href{...}{...} external (URL)
        citecolor=linkred,     % citation number colors
        linkcolor=linknavy,    % \ref{...} and \pageref{...}
        pdftitle={Fire Dynamics Simulator (Version 5) Configuration Management Plan},
        pdfauthor={Kevin McGrattan},
        pdfsubject={Software Configuration Management Guide},
        pdfkeywords={FDS, Fire Model, NIST, BFRL, SCM},
        pdfproducer={pdflatex},
        pagebackref,
        pdfpagemode=UseNone,
        bookmarksopen=true,
        plainpages=false]{hyperref}
\usepackage{color}
\definecolor{linknavy}{rgb}{0,0,0.50196}
\definecolor{linkred}{rgb}{1,0,0}
\definecolor{linkblue}{rgb}{0,0,1}
\usepackage{caption}
\usepackage{graphpap}
\usepackage{rotating}
\usepackage{epsfig,psfrag}
\usepackage{geometry}
\usepackage{tabularx}
\usepackage{longtable}
\usepackage{lscape}
\usepackage{amssymb}
\usepackage{makeidx} % Create index at end of document
\usepackage[nottoc,notlof,notlot]{tocbibind} % Put the bibliography and index in the ToC
\usepackage{float}
\usepackage{lastpage} % Automatic last page number reference.
\usepackage[T1]{fontenc}
\usepackage{upquote}
\usepackage{array,eqnarray}
\newcommand{\nopart}{\expandafter\def\csname Parent-1\endcsname{}} % To fix table of contents in pdf.


\setlength{\textwidth}{6.5in}
\setlength{\textheight}{9.0in}
\setlength{\topmargin}{0.in}
\setlength{\headheight}{0.in}
\setlength{\headsep}{0.in}
\setlength{\parindent}{0.25in}
\setlength{\oddsidemargin}{0.0in}
\setlength{\evensidemargin}{0.0in}

\begin{document}

\bibliographystyle{unsrt}

% include commands for bios, titles etc used in multiple documents
\input{../Bibliography/commoncommands}
\newcommand{\dod}[2]{\frac{\partial #1}{\partial #2}}
\newcommand{\DoD}[2]{\frac{D #1}{D #2}}
\newcommand{\dsods}[2]{\frac{\partial^2 #1}{\partial #2^2}}
\newcommand{\dx}{\delta x}
\newcommand{\dy}{\delta y}
\newcommand{\dz}{\delta z}
\newcommand{\x}{x}
\newcommand{\y}{y}
\newcommand{\z}{z}
\newcommand{\dt}{\delta t}
\newcommand{\dn}{\delta n}
\newcommand{\cH}{{\cal H}}
\newcommand{\hu}{u}
\newcommand{\hv}{v}
\newcommand{\hw}{w}
\newcommand{\la}{\lambda}
%\newcommand{\bO}{\mbox{\boldmath $\Omega$}}
\newcommand{\bO}{{\Omega}}
\newcommand{\bo}{{\bf \omega}}
%\newcommand{\btau}{\mbox{\boldmath $\tau$}}
\newcommand{\btau}{{\bf \tau}}
\newcommand{\bdelta}{{\bf \delta}}
\newcommand{\sumyw}{\sum (Y_\alpha/W_\alpha)}
\newcommand{\oW}{\overline{W}}
\newcommand{\om}{\omega}
\newcommand{\omx}{\omega_x}
\newcommand{\omy}{\omega_y}
\newcommand{\omz}{\omega_z}
\newcommand{\erf}{\hbox{erf}}
\newcommand{\bF}{{\bf F}}
\newcommand{\bG}{{\bf G}}
\newcommand{\bof}{{\bf f}}
\newcommand{\bq}{{\bf q}}
\newcommand{\br}{{\bf r}}
\newcommand{\bu}{{\bf u}}
\newcommand{\bx}{{\bf x}}
\newcommand{\bk}{{\bf k}}
\newcommand{\bv}{{\bf v}}
\newcommand{\bg}{{\bf g}}
\newcommand{\bn}{{\bf n}}
\newcommand{\bS}{{\bf S}}
\newcommand{\bW}{\overline{W}}
\newcommand{\dS}{d{\bf S}}
\newcommand{\bs}{{\bf s}}
\newcommand{\bI}{{\bf I}}
\newcommand{\hp}{{\cal H}}
\newcommand{\trho}{\tilde{\rho}}
\newcommand{\dph}{{\delta\phi}}
\newcommand{\dth}{{\delta\theta}}
\newcommand{\tp}{\tilde{p}}
\newcommand{\bp}{\overline{p}}
\newcommand{\dQ}{\dot{Q}}
\newcommand{\dq}{\dot{q}}
\newcommand{\dbq}{\dot{\bf q}}
\newcommand{\dm}{\dot{m}}
\newcommand{\ha}{\frac{1}{2}}
\newcommand{\ft}{\frac{4}{3}}
\newcommand{\ot}{\frac{1}{3}}
\newcommand{\fofi}{\frac{4}{5}}
\newcommand{\of}{\frac{1}{4}}
\newcommand{\twth}{\frac{2}{3}}
\newcommand{\R}{{\cal R}}
\newcommand{\be}{\begin{equation}}
\newcommand{\ee}{\end{equation}}
\newcommand{\RE}{\hbox{Re}}
\newcommand{\LE}{\hbox{Le}}
\newcommand{\PR}{\hbox{Pr}}
\newcommand{\PE}{\hbox{Pe}}
\newcommand{\NU}{\hbox{Nu}}
\newcommand{\SC}{\hbox{Sc}}
\newcommand{\SH}{\hbox{Sh}}
\newcommand{\WE}{\hbox{We}}
\newcommand{\COTWO}{{\tiny \hbox{CO}_2}}
\newcommand{\HTWOO}{{\tiny \hbox{H}_2\hbox{O}}}
\newcommand{\OTWO}{{\tiny \hbox{O}_2}}
\newcommand{\NTWO}{{\tiny \hbox{N}_2}}
\newcommand{\CO}{{\tiny \hbox{CO}}}
\newcommand{\F}{{\tiny \hbox{F}}}
\newcommand{\C}{{\tiny \hbox{C}}}
\newcommand{\Hy}{{\tiny \hbox{H}}}
\newcommand{\So}{{\tiny \hbox{S}}}
\newcommand{\M}{{\tiny \hbox{M}}}
\newcommand{\xx}{{\tiny \hbox{x}}}
\newcommand{\yy}{{\tiny \hbox{y}}}
\newcommand{\zz}{{\tiny \hbox{z}}}
\newcommand{\ct}{\tt\small}
\newcommand{\dif}{\mathrm{d}}
\newcommand{\Div}{\nabla\cdot}
\newcommand{\mhalf}{\mbox{$\frac{1}{2}$}}
\newcommand{\tripleprime}{{\prime\prime\prime}}

\pagestyle{empty}

\begin{minipage}[t][9in][s]{6.5in}

\huge \flushright{NIST Special Publication 1018}

\vspace{1in}

\Huge \flushright{Fire Dynamics Simulator \\ Technical Reference Guide \\ \Large Volume 4: Software Configuration Management Plan}

\normalsize

\vfill

\flushright{
\includegraphics[width=1.3in]{../Bibliography/VTT_BLACK_L} \\
VTT Technical Research Centre of Finland \\ [.3in]
\includegraphics[width=2.in]{../Bibliography/nistident_flright_vec}
}


\end{minipage}

\newpage

\hspace{5in}

\newpage

\begin{minipage}[t][9in][s]{6.5in}

\huge \flushright{NIST Special Publication 1018}

\vspace{.75in}

\Huge \flushright{Fire Dynamics Simulator (Version 5) \\ Technical Reference Guide \\ \Large Volume 4: Configuration Management Plan}

\vspace{.25in}

\normalsize
\flushright{
Fire Research Division \\
Engineering Laboratory \\
Gaithersburg, Maryland, USA \\
\hspace{1.in} \\
VTT Technical Research Centre of Finland \\
{\em Espoo, Finland} }
\flushright{\includegraphics[width=1in]{../Bibliography/VTT_Black_L} }


\vspace{.25in}

\flushright{\today \\
FDS Version 6.0 \\
$SVN Repository$~$Revision$}

\vfill

\flushright{\includegraphics[width=1in]{../Bibliography/doc} }

\titlesigs

\end{minipage}

\newpage

\begin{minipage}[t][9in][s]{6.5in}

\flushright{Certain commercial entities, equipment, or materials may be identified in this \\
document in order to describe an experimental procedure or concept adequately. Such \\
identification is not intended to imply recommendation or endorsement by the \\
National Institute of Standards and Technology, nor is it intended to imply that the \\
entities, materials, or equipment are necessarily the best available for the purpose.
}

\vspace{3in}

\large
\flushright{\bf National Institute of Standards and Technology Special Publication 1018 \\
Natl.~Inst.~Stand.~Technol.~Spec.~Publ.~1018, \pageref{LastPage} pages (March 2009) \\
CODEN: NSPUE2 }

\vfill

\flushright{U.S. GOVERNMENT PRINTING OFFICE \\
WASHINGTON: 2007 \\
\rule{3.5in}{0.01in} \\
For sale by the Superintendent of Documents, U.S. Government Printing Office \\
Internet: bookstore.gpo.gov -- Phone: (202) 512-1800 -- Fax: (202) 512-2250 \\
Mail: Stop SSOP, Washington, DC 20402-0001 }

\end{minipage}



\newpage

\frontmatter

\pagestyle{plain}

\input{../Bibliography/authors}

\chapter{Disclaimer}

The US Department of Commerce makes no warranty, expressed or implied,
to users of the Fire Dynamics Simulator (FDS), and accepts no responsibility for its use.
Users of FDS assume sole responsibility under Federal law for determining
the appropriateness of its use in any particular application;
for any conclusions drawn from the results of its use; and for any
actions taken or not taken as a result of analysis performed using these tools.

Users are warned that FDS is intended for use only by those competent
in the fields of fluid dynamics, thermodynamics, heat transfer, combustion, and fire science,
and is intended only to supplement the informed judgment of the qualified user.
The software package is a computer model that may or may not have predictive
capability when applied to a specific set of factual circumstances.
Lack of accurate predictions by the model could lead to erroneous
conclusions with regard to fire safety. All results should be evaluated by an informed user.

Throughout this document, the mention of computer hardware or commercial
software does not constitute endorsement by NIST, nor does it indicate that
the products are necessarily those best suited for the intended purpose.

\chapter{Preface}

This is Volume 4 of the FDS Technical Reference Guide. Volume 1 describes the mathematical model and numerical method. Volumes~2 and 3 document past and
present model verification and validation work, respectively. Instructions for using FDS are contained in a separate User's Guide~\cite{FDS_Users_Guide}.

The volumes that make up the FDS Technical Reference Guide are based in part on the ASTM E 1355, {\em Standard Guide for Evaluating the Predictive Capability of
Deterministic Fire Models}~\cite{ASTM:E1355}. ASTM~E~1355 outlines the process of assessing the accuracy of a fire model. Volumes~1 through 3 are the
result of this evaluation process. The main purpose of the present volume is to describe the process by which the model software is developed and maintained. A model such
as FDS cannot remain static. As progress is made in fire science, the model needs to be updated and improved, but still shown to reliably predict the kinds of
phenomena for which it was originally designed.



\chapter{Acknowledgments}

\label{acksection}

The idea for this Guide originated with Jason Floyd, a co-developer of FDS and practicing engineer at Hughes Associates, Inc. He readily saw the need
for a clear description of the process of developing and maintaining FDS and Smokeview. Bryan Klein of NIST instituted a number of the internet tools that
are described in the Guide, including the source code repository, issue tracking system, and discussion group sites.




\tableofcontents

\mainmatter


\chapter{Model Overview}


The purpose of this document is to describe the policies and procedures for developing and maintaining the Fire Dynamics
Simulator (FDS). Such a document is commonly referred to as a {\em Configuration Management Plan}, known through the rest of this document as ``the Plan.'' This document
will be updated as the necessity arises and will establish and provide the basis for a uniform and concise standard of practice for the FDS
development process. It is based in part on IEEE Standard 828~\cite{IEEE-828} and ASTM~E1355~\cite{ASTM:E1355}.


\section{Overview of the Fire Dynamics Simulator (FDS) Software Project}

FDS is a Computational Fluid Dynamics (CFD) model of fire-driven fluid flow. The model solves numerically a form of the Navier-Stokes equations
appropriate for low-speed, thermally-driven flow with an emphasis on smoke and heat transport from fires. The partial derivatives of the conservation
equations of mass, momentum and energy are approximated as finite differences, and the solution is updated in time on a three-dimensional,
rectilinear grid. Thermal radiation is computed using a finite volume technique on the same grid as the flow solver. Lagrangian particles are used to
simulate smoke movement, sprinkler discharge, and fuel sprays.

\section{Applicability}

This document applies only to the program FDS, its companion visualization program called Smokeview,  the related NIST publications and Internet
site, and the various utility programs that support the two main programs. This document does not apply to third-party software developed by others
not affiliated with NIST or its software development collaborators.


\section{Type of Model}

FDS is a Computational Fluid Dynamics (CFD) model of fire-driven fluid flow. The model numerically solves a form of the Navier-Stokes equations
appropriate for low-speed, thermally-driven flow with an emphasis on smoke and heat transport from fires. The partial derivatives in the conservation
equations for mass, momentum and energy are approximated by finite differences, and the solution is updated in time on a three-dimensional,
rectilinear grid. Thermal radiation is computed using a finite volume technique on the same grid as the flow solver. Lagrangian particles are used to
simulate smoke movement, sprinkler discharge, and fuel sprays.

Smokeview is a companion program to FDS that produces images and animations of the results. In recent years, its developer, Glenn Forney, has added
to Smokeview the ability to visualize fire and smoke in a fairly realistic way. In a sense, Smokeview now is, via its three-dimensional renderings,
an integral part of the physical model, as it allows one to assess the visibility within a fire compartment in ways that ordinary scientific
visualization software cannot.

Although not part of the FDS/Smokeview suite maintained at NIST, there are several third-party and proprietary ``add-ons'' to FDS either available
commercially or privately maintained by individual users. Most notably, there are several Graphical User Interfaces (GUIs) that can be used to create
the input file containing all the necessary information needed to perform a simulation.



\section{Version History}

Version 1 of FDS was publicly released in February 2000, version 2 in December 2001, version 3 in November 2002, and version 4 in July 2004. The
present version of FDS is 5, first released in October, 2007.

Starting with FDS 5, a formal revision management system has been implemented to track changes to the FDS source code. The open-source program
development tools are provided by an Internet-based organization known as Google Code (code.google.com).

The version number for FDS has three parts.  For example, FDS 5.2.12 indicates that this is FDS 5, the fifth major release. The 2 indicates a
significant upgrade (a minor release), but still within the framework of FDS 5.  The 12 indicates the twelveth maintenance release of 5.2, mostly bug fixes and minor user
requests.


\section{Model Developers}


Currently, FDS is maintained by the Engineering Laboratory, Fire Research Division, of National Institute of Standards and Technology.
The developers at NIST have formed a loose collaboration of interested stake holders, including:
\begin{itemize}
\item VTT Technical Research Centre of Finland, a research and testing
laboratory similar to NIST
\item The Society of Fire Protection Engineers (SFPE) who conduct training classes on the use of FDS
\item Fire protection engineering firms that use the software
\item Engineering departments at various universities with a particular emphasis on fire
\end{itemize}
NIST awards grants on a competitive basis to external organizations who conduct research in fire science and engineering. Some of these grants have
been used to assist the development of FDS. The role of the grantee in supporting day to day development varies. Not all of the developers outside of
NIST are grantees.

Starting with Version 5, the FDS development team uses an Internet-based development environment called GoogleCode, a free service of the search
engine company, Google. GoogleCode is a widely used service designed to assist open source software development by providing a repository for source
code, revision control, program distribution, bug tracking, and various other very useful services.

Each member of the FDS development team has an account and password access to the FDS repository. In addition, anonymous access is available to all
interested users, who can receive the latest versions of the source code, manuals, and other items. Anonymous users simply do not have the power to
commit changes to any of these items. The power to commit changes to FDS or its manuals can be granted to anyone on a case by case basis.

The FDS manuals are typeset using \LaTeX, specifically, PDF \LaTeX. The \LaTeX files are essentially text files that are under SVN (Subversion)
control. The figures are either in the form of PDF or jpeg files, depending on whether they are vector or raster format. There are a variety of
\LaTeX packages available, including MiKTeX. The FDS developers edit the manuals as part of the day to day upkeep of the model. Different editions of
the manuals are distinguished by date.



Members of the FDS and Smokeview team share in the development and maintenance responsibilities, which include:
\begin{enumerate}
\item Developing new algorithms and improving program functionality
\item Answering user questions
\item Responding to bug reports
\item Issuing periodic updates to the officially released versions of the programs
\item Maintaining the Technical Reference and Users Guides
\item Maintaining a suite of sample cases to demonstrate model use
\item Maintaining a suite of verification and validation cases to test model accuracy and reliability
\item Developing and maintaining a ``Road Map'' of future development
\end{enumerate}
Most decisions concerning these various tasks are made individually or by consensus of the team members.
In the event of a disagreement over technical issues, the decision is made by Kevin McGrattan, leader of the Fire Modeling Group in the Fire Research Division of BFRL,
in consultation with team members at VTT, Finland.
Non-technical issues are addressed by Anthony Hamins, Chief of the Fire Research Division, or by
Shyam Sunder, Director of EL, depending on the nature of the issue. All policies and procedures described in this document are
subject to review by NIST in consultation with VTT, Finland.


\section{Intended Uses}

Throughout its development, FDS has been aimed at solving practical fire problems in fire protection engineering, while at the same time providing a
tool to study fundamental fire dynamics and combustion. FDS can be used to model the following phenomena:
\begin{itemize}
\setlength{\itemsep}{0.0in}
\item Low speed transport of heat and combustion products from fire
\item Radiative and convective heat transfer between the gas and solid surfaces
\item Pyrolysis
\item Flame spread and fire growth
\item Sprinkler, heat detector, and smoke detector activation
\item Sprinkler sprays and suppression by water
\end{itemize}
Although FDS was designed specifically for fire simulations, it can be used for other low-speed fluid flow simulations that do not necessarily
include fire or thermal effects. To date, about half of the applications of the model have been for design of smoke control systems and
sprinkler/detector activation studies. The other half consist of residential and industrial fire reconstructions.


\section{Input Parameters}

All of the input parameters required by FDS to describe a particular scenario are conveyed via a single text file created by the user. The file
contains information about the numerical grid, ambient environment, building geometry, material properties, combustion kinetics, and desired output
quantities. The numerical grid consists of one or more rectilinear meshes with (usually) uniform cells. All geometric features of the scenario must
conform to this numerical grid. Objects smaller than a single grid cell are either approximated as a single cell, or rejected. The building geometry
is input as a series of rectangular blocks. Boundary conditions are applied to solid surfaces as rectangular patches. Materials are defined by their
thermal conductivity, specific heat, density, thickness, and burning behavior. There are various ways that this information is conveyed, depending on
the desired level of detail.

Any simulation of a real fire scenario involves specifying material properties for the walls, floor, ceiling, and furnishings. FDS treats all of
these objects as multi-layered solids, thus the physical parameters for many real objects can only be viewed as approximations to the actual
properties. Describing these materials in the input file is the single most challenging task for the user. Thermal properties such as conductivity,
specific heat, density, and thickness can be found in various handbooks, or in manufacturers literature, or from bench-scale measurements. The
burning behavior of materials at different heat fluxes is more difficult to describe, and the properties more difficult to obtain. Even though entire
books are devoted to the subject~\cite{Babrauskas:2}, it is still difficult to find information on a particular item.

A significant part of the FDS input file directs the code to output various quantities in various ways. Much like in an actual experiment, the user
must decide before the calculation begins what information to save. There is no way to recover information after the calculation is over if it was
not requested at the start.

A complete description of the input parameters required by FDS can be found in the FDS User's Guide~\cite{FDS_Users_Guide}.


\section{Output Quantities}

FDS computes the temperature, density, pressure, velocity and chemical composition within each numerical grid cell at each discrete time step. There
are typically hundreds of thousands to millions of grid cells and thousands to hundreds of thousands of time steps. In addition, FDS computes at
solid surfaces the temperature, heat flux, mass loss rate, and various other quantities. The user must carefully select what data to save, much like
one would do in designing an actual experiment. Even though only a small fraction of the computed information can be saved, the output typically
consists of fairly large data files. Typical output quantities for the gas phase include:
\begin{itemize}
\setlength{\itemsep}{0.0in}
\item Gas temperature
\item Gas velocity
\item Gas species concentration (water vapor, CO$_2$, CO, N$_2$)
\item Smoke concentration and visibility estimates
\item Pressure
\item Heat release rate per unit volume
\item Mixture fraction (or air/fuel ratio)
\item Gas density
\item Water droplet mass per unit volume
\end{itemize}
On solid surfaces, FDS predicts additional quantities associated with the energy balance between gas and solid phase, including
\begin{itemize}
\setlength{\itemsep}{0.0in}
\item Surface and interior temperature
\item Heat flux, both radiative and convective
\item Burning rate
\item Water droplet mass per unit area
\end{itemize}
Global quantities recorded by the program include:
\begin{itemize}
\setlength{\itemsep}{0.0in}
\item Total Heat Release Rate (HRR)
\item Sprinkler and detector activation times
\item Mass and energy fluxes through openings or solids
\end{itemize}
Time histories of various quantities at a single point in space or global quantities like the fire's heat release rate (HRR) are saved in simple,
comma-delimited text files that can be plotted using a spreadsheet program. However, most field or surface data are visualized with a program called
Smokeview, a tool specifically designed to analyze data generated by FDS. FDS and Smokeview are used in concert to model and visualize fire
phenomena. Smokeview performs this visualization by presenting animated tracer particle flow, animated contour slices of computed gas variables and
animated surface data. Smokeview also presents contours and vector plots of static data anywhere within a scene at a fixed time.

A complete list of FDS output quantities and formats is given in Ref.~\cite{FDS_Users_Guide}. Details on the use of Smokeview are found in
Ref.~\cite{Smokeview_Users_Guide}.




\section{Governing Equations, Assumptions and Numerics}

Following is a brief description of the major components of FDS. Detailed information regarding the assumptions and governing equations associated
with the model is provided in Section~\ref{govequations}.
\begin{description}
\item[Hydrodynamic Model] FDS
solves numerically a form of the Navier-Stokes equations appropriate for low-speed, thermally-driven flow with an emphasis on smoke and heat
transport from fires. The core algorithm is an explicit predictor-corrector scheme that is second order accurate in space and time. Turbulence is
treated by means of the Smagorinsky form of Large Eddy Simulation (LES). It is possible to perform a Direct Numerical Simulation (DNS) if the
underlying numerical grid is fine enough. LES is the default mode of operation.
\item[Combustion Model]
For most applications, FDS uses a combustion model based on the mixing limited, infinitely fast reaction of lumped species. Lumped species are
conserved scalar quantities that represent a mixture of species such as air which is a mixture of nitrogren, oxygen, water vapor, and carbon dioxide.
In FDS versions prior to 6, these lumped species were referred to as mixture fraction parameters.  As with FDS 5, the reaction of fuel and oxygen is
not necessarily instantaneous and complete, and there are several optional schemes that are designed to predict the extent of combustion in
under-ventilated spaces. The mass fractions of all of the major reactants and products can be derived from the lumped species by means of ``state
relations,'' expressions arrived at by a combination of simplified analysis and measurement.
\item[Radiation Transport] Radiative heat transfer is included in the
model via the solution of the radiation transport equation for a gray gas. In a limited number of cases, a wide band model can be used in place of
the gray gas model to provide a better spectral accuracy. The radiation equation is solved using a technique similar to a finite volume method for
convective transport, thus the name given to it is the Finite Volume Method (FVM). Using approximately 100 discrete angles, the finite volume solver
requires about 20~\% of the total CPU time of a calculation, a modest cost given the complexity of radiation heat transfer.  Water droplets can
absorb and scatter thermal radiation. This is important in cases involving mist sprinklers, but also plays a role in all sprinkler cases. The
absorption and scattering coefficients are based on Mie theory. The scattering from the gaseous species and soot is not included in the model.
\item[Geometry]
FDS approximates the governing equations on one or more rectilinear grids. The user prescribes rectangular obstructions that are forced to conform
with the underlying grid.
\item[Boundary Conditions]
All solid surfaces are assigned thermal boundary conditions, plus information about the burning behavior of the material. Heat and mass transfer to
and from solid surfaces is usually handled with empirical correlations, although it is possible to compute directly the heat and mass transfer when
performing a Direct Numerical Simulation (DNS).
\item[Sprinklers and Detectors] The activation of sprinklers and heat and smoke detectors
is modeled using fairly simple correlations of thermal inertia for sprinklers and heat detectors, and transport lag for smoke detectors. Sprinkler
sprays are modeled by Lagrangian particles that represent a sampling of the water droplets ejected from the sprinkler.
\end{description}


\section{Limitations}

Although FDS can address most fire scenarios, there are limitations in all of its various algorithms. Some of the more prominent limitations of the
model are listed here. More specific limitations are discussed as part of the description of the governing equations in Section~\ref{govequations}.
\begin{description}
\item[Low Speed Flow Assumption] The use of FDS is limited to low-speed\footnote{Mach numbers less than about 0.3} flow
with an emphasis on smoke and heat transport from fires. This assumption rules out using the model for any scenario involving flow speeds approaching
the speed of sound, such as explosions, choke flow at nozzles, and detonations.
\item[Rectilinear Geometry] The efficiency of FDS is due to the simplicity of its rectilinear numerical grid and the
use of a fast, direct solver for the pressure field. This can be a limitation in some situations where certain geometric features do not conform to
the rectangular grid, although most building components do. There are techniques in FDS to lessen the effect of ``sawtooth'' obstructions used to
represent non-rectangular objects, but these cannot be expected to produce good results if, for example, the intent of the calculation is to study
boundary layer effects. For most practical large-scale simulations, the increased grid resolution afforded by the fast pressure solver offsets the
approximation of a curved boundary by small rectangular grid cells.
\item[Fire Growth and Spread]
Because the model was originally designed to analyze industrial-scale fires, it can be used reliably when the heat release rate (HRR) of the fire is
specified and the transport of heat and exhaust products is the principal aim of the simulation. In these cases, the model predicts flow velocities
and temperatures to an accuracy within 10~\% to 20~\% of experimental measurements, depending on the resolution of the numerical grid \footnote{It is
extremely rare to find measurements of local velocities and/or temperatures from fire experiments that have reported error estimates that are less
than 10~\%. Thus, the most accurate calculations using FDS do not introduce significantly greater errors in these quantities than the vast majority
of fire experiments.}. However, for fire scenarios where the heat release rate is {\em predicted} rather than {\em specified}, the uncertainty of the
model is higher. There are several reasons for this: (1) properties of real materials and real fuels are often unknown or difficult to obtain, (2)
the physical processes of combustion, radiation and solid phase heat transfer are more complicated than their mathematical representations in FDS,
(3) the results of calculations are sensitive to both the numerical and physical parameters. Current research is aimed at improving this situation,
but it is safe to say that modeling fire growth and spread will always require a higher level of user skill and judgment than that required for
modeling the transport of smoke and heat from specified fires.
\item[Combustion]
For most applications, FDS uses a mixing-controlled, lumped species based combustion model. Lumped species are conserved scalar quantities that
represent mixtures of gas species.  For most applications, these mixtures are air, fuel plus an optional diluent, and combustion products.  In its
simplest form, the model assumes that combustion is mixing-controlled, and that the reaction of fuel and oxygen is infinitely fast, regardless of the
temperature. For large-scale, well-ventilated fires, this is a good assumption. However, if a fire is in an under-ventilated compartment, or if a
suppression agent like water mist or CO$_2$ is introduced, fuel and oxygen are allowed to mix and not burn, according to a few empirically-based
criteria. The physical mechanisms underlying these phenomena are complex, and are tied closely to the flame temperature and local strain rate,
neither of which are readily-available in a large scale fire simulation. Subgrid-scale modeling of gas phase suppression and extinction is still an
area of active research in the combustion community. Until reliable models can be developed for building-scale fire simulations, simple empirical
rules can be used that prevent burning from taking place when the atmosphere immediately surrounding the fire cannot sustain the combustion. Details
are found in Section~\ref{combustionsection}.
\item[Radiation] Radiative heat transfer is included in the model via
the solution of the radiation transport equation (RTE) for a gray gas, and in some limited cases using a wide band model.  The RTE is solved using a
technique similar to finite volume methods for convective transport, thus the name given to it is the Finite Volume Method (FVM). There are several
limitations of the model. First, the absorption coefficient for the smoke-laden gas is a complex function of its composition and temperature. Because
of the simplified combustion model, the chemical composition of the smokey gases, especially the soot content, can effect both the absorption and
emission of thermal radiation.  Second, the radiation transport is discretized via approximately 100 solid angles, although the user may choose to
use more angles. For targets far away from a localized source of radiation, like a growing fire, the discretization can lead to a non-uniform
distribution of the radiant energy. This error is called ``ray effect'' and can be seen in the visualization of surface temperatures, where ``hot
spots'' show the effect of the finite number of solid angles. The problem can be lessened by the inclusion of more solid angles, but at a price of
longer computing times. In most cases, the radiative flux to far-field targets is not as important as those in the near-field, where coverage by the
default number of angles is much better.
\end{description}











\chapter{Software Maintenance}

Software maintenance consists of the following components:
control of the project files and documents, procedures for making changes, and procedures for testing new versions.


\section{Document Identification and Control}

Document identification and control consists of placing all project files in a central location and maintaining a record of changes to those files.
The central location is known as the {\em Repository}.


\subsection{Project Repository}

All project documents are maintained using the online utility \href{http://code.google.com/opensource}{{Google Code Project Hosting}}, a free service
offered by Google to support software development for open source applications.  Google Code uses the \href{http://subversion.tigris.org}{{Subversion}} (SVN) revision management system.
Under this system a centralized repository containing all project files resides on a Google Code server.
Subversion uses a single integer that identifies the version of the entire repository rather than of a specific file
(i.e. anytime a change is made to the repository all files are incremented in version number).  A record of version number when a specific file was last changed is maintained.

As an open source program, any individual can obtain a copy of the repository or retrieve specific versions
repository.  Only Team Members described in the previous chapter can commit changes to the repository.

The current location of the FDS repository is \href{http://fds-smv.googlecode.com/svn/trunk/}
{{\ct http://fds-smv.googlecode.com/svn/trunk/}}. The repository contains the following files:
\begin{enumerate}
\item Compiled FDS and Smokeview executables
\item FDS and Smokeview source code files
\item FDS and Smokeview documentation
\item Input files for software testing, verification testing, and validation testing
\item Experimental data files used for validation testing
\item Scripts and post-processing utilities used for software testing
\item Web pages and wikis
\end{enumerate}

\subsection{Version Identification}

At the start of an FDS simulation FDS writes header information to the Smokeview output file, FDS output file,
and the FDS log file.  This header information contains the version of FDS used to perform that simulation.
While each release is tagged with a specific version number (e.g. 5.0.1), there may be many commits of source
code, documentation, or other files to the SVN repository before a new version is released with an incremented
version number.  Thus, if a developer or a user who performs their own compilation between baseline releases
discovers an error, the version number written to the output files may not be sufficient to identify the
specific set of source code files used.  Rather one would need to know the SVN revision number of the most
recently committed source file.

This is accomplished by using source file tagging.  In each source file a series of character parameter
strings are defined.  For example, near the top of the file called main.f90 at revision 3144 are lines of the form:

\begin{figure}[ht!]
\includegraphics[width=\textwidth]{FIGURES/RevisionStrings.jpg}
\caption{\bf Example of Revision Identification Strings in main.f90}
\label{fig:revstrings}
\end{figure}

\noindent
The string contains the name of the source file, the version of the file (this reflects only the source
file version and not the overall release version number), the date and time of the file version, and
the person who checked the file in to the archive.  Upon compiling, these strings will be stored in the
executable file.  The user is then capable of searching the executable file, for example, for strings
beginning with {\ct \$Id:}.  This will result in a list of all source files compiled and their version.
Within the SVN archive any specific version of a source file can be extracted and differences between
versions can be determined.

Within the source code a series of subroutines were created, one per source file, which parses the {\ct \$Id:} in
each file and extracts from it the SVN revision number.  Each of these subroutines is called at the start
of an FDS run and the largest (and hence most recent) revision number is determined.  This number is written
along with the FDS version number to the output header information.  A user can now identify specifically
the source code used for a particular compilation of FDS when reporting an error.




\clearpage
\section{Development Process}

Changes are made to the FDS source code daily, and tracked via revision control software. However, these daily changes do not constitute a change to
the version number. After the developers determine that enough changes have been made to the source, they release a new minor upgrade, 5.2.12 to
5.2.13, for example. This happens every few weeks. A change from 5.2 to 5.3 might happen only a few times a year, when significant improvements have
been made to the model physics.

There is no formal process by which FDS is updated. Each developer works on various routines, and makes changes as warranted. Minor bugs are fixed
without any communication (the developers are in different locations), but more significant changes are discussed via email or telephone calls. A
suite of simple verification calculations (included in this document) are routinely run to ensure that the daily bug fixes have not altered any of
the important algorithms. A suite of validation calculations (also included here) are run with each significant upgrade. Significant changes to FDS
are made based on the following criteria, in no particular order:
\begin{description}
\item[Better Physics:] The goal of any model is to be {\em predictive}, but it also must be reliable. FDS is a blend of empirical and
deterministic sub-models, chosen based on their robustness, consistency, and reliability. Any new sub-model must demonstrate that it is of comparable
or superior accuracy to its empirical counterpart.
\item[Modest CPU Increase:] If a proposed algorithm doubles the calculation time but yields only a marginal improvement in accuracy, it is
likely to be rejected. Also, the various routines in FDS are expected to consume CPU time in proportion to their overall importance. For example, the
radiation transport algorithm consumes about 25~\% of the CPU time, consistent with the fact that about one-fourth to one-third of the fire's energy
is emitted as thermal radiation.
\item[Simpler Algorithm:] If a new algorithm does what the old one did using fewer lines of code, it is almost always accepted, so long as
it does not decrease functionality.
\item[Increased or Comparable Accuracy:] The validation experiments that are part of this guide serve as the metric for new routines. It is
not enough for a new algorithm to perform well in a few cases. It must show clear improvement across the suite of experiments. If the accuracy is
only comparable to the previous version, then some other criteria must be satisfied.
\item[Acceptance by the Fire Protection Community:] Especially in regard to fire-specific devices, like sprinklers and smoke detectors, the
algorithms in FDS often are based on their acceptance among the practicing engineers.
\end{description}




\subsection{Creating a Change Request}

Change requests are submitted using the FDS Issue Tracker.  The Issue Tracker is an online service that is part of
Google Code.  To submit a new issue to the tracker or to provide follow up comments, the user must sign in with a Google Account.
The current location of the Issue Tracker can be found through a link under the 'Support' section of the menu
on the FDS-SMV website \href{http://code.google.com/p/fds-smv/issues/list}{[Link to Tracker]}.

A change request is initiated by opening a new issue.  The issue report contains the baseline identification (version number, compile date, and SVN revision number),
operating system, and a description of the defect or enhancement request.  Input files or other supporting documentation can be attached.

\begin{figure}[ht!]
\includegraphics[width=\textwidth]{FIGURES/NewIssue.jpg}
\caption{\bf Screenshot of issue tracker reporting form}
\label{fig:issueform}
\end{figure}

If the issue is opened by a user, it will be given a status of 'New' until it is reviewed by a developer.  If the
issue is opened by a developer, the developer can immediate assign a status and an owner.

\subsection{Processing a Change Request}

A change request may be evaluated by any member of the development team.
If the request duplicates an existing request, then the issue status is changed to {\ct Duplicate} and the
requestor is sent the issue number of the existing request.

If the request is for an enhancement to FDS, then then the issue type is changed to {\ct Type-Enhancement} and the
component type is declared. The request is evaluated for suitability.  If it is a valid enhancement
request, then the status is changed to {\ct Accepted}.  If the request is not to
be addressed under the next baseline, then the status will be changed to {\ct OnHold}.  If the request is denied, then
the status is changed to {\ct WontFix}.  An accepted request will be assigned to a developer.

If the request is identifying a defect in FDS, then the issue type is changed to {\ct Type-Defect} and the
component type is declared.  The defect is evaluated for validity.  If insufficient information has
been provided in the request, then the status is changed to {\ct MoreInfo} and a description of the additional
information required is sent to the requestor.  If the defect is due to user error or is the intended function of FDS,
then the status is changed to {\ct Invalid}.  If the defect is valid, then the request reviewer will change the
status to {\ct Accepted} and assign the request to a developer.

Once a change request has be addressed by a developer and changes submitted to the repositoty, the request status
is changed to {\ct Fixed}.  Once either the requestor or another developer has verified that the changes address
the original request, then the status is changed to {\ct Verified}.


\subsection{Committing Changes}

Once a developer has addressed a change request, the modified files are committed to the SVN repository.  A description
of the changes will be added to the SVN change log.  This description first identifies the primary component being
changed (for example: FDS Source or FDS Documentation).  This component identification will be followed by a brief
summary of the changes made.  The issue identifier will be included as part of that brief description.

\subsection{Change Verification}

Once a change has been committed and the issue tracker updated to reflect that the issue has been {\ct Fixed},
the changes will be verified.  Verification can be done by either the requester of the change or by another
developer.  Once the changes have been verified to solve the problem reported in the issue, the issue status will
be changed to {\ct Verified}.  At this point the issue is closed.



\section{Issuing New Releases}

The decision to change versions of the software is made by consensus of the development team, usually after it is determined that enough
changes have been made to warrant a new release. There is no formal process to determine when a new release is to be issued. However, once the
decision is made, the new version is given a number, it is tested, and then posted to the official download site.

\subsection{Version Number}

New versions of FDS and Smokeview are identified using a specific numbering convention, for example, {\em FDS 5.2.5}.
The version number consists of three integers separated by periods, where the first number
is the {\em major} release, the second is the {\em minor} release, and the third is the {\em maintenance}
release.  Major releases occur every few years, and as the name implies dramatically changed functionality of the
model. Minor releases occur every few months, and may cause minor changes in functionality.
Release notes can help you decide whether the changes should effect the type of applications that you typically do.
Maintenance releases are either just bug fixes or the addition of minor enhancements (such as a new output quantity),
and should not affect code functionality.

For each release of FDS there is a unique Subversion (SVN) repository revision number associated with it.
For example, FDS version 5.3.0 was built from files in the repository at SVN revision number 3193.
The document connecting the release version to the SVN revision number is found in the {\em FDS Release Notes} wiki page
located at \href{http://code.google.com/p/fds-smv/wiki/FDS_Release_Notes}{{\ct http://code.google.com/p/fds-smv/wiki/FDS\_Release\_Notes}}
The SVN revision number allows users to checkout or update their local copy of the project files from the repository to the same state as any previous release of the software.

\subsection{Testing a New Release}

Each proposed release undergoes software testing.  There are two sets of input files that are used to test new releases --
a verification suite and a validation suite. The verification suite consists of a range of calculations, from ones that just test a feature to
ones that compare FDS results with analytical solutions of the governing equations. The validation suite consists of simulations of a wide range
of experiments.

Testing will depend upon the type of baseline release:
maintenance, minor, or major. A maintenance release occurs every few weeks.
Each maintenance release is tested with the verification suite. Because each case requires no more than a few
hours of computer time, the suite can be run overnight. The following day, the results of the calculations are automatically plotted and
compared with the expected results. This is done simply be recompiling the FDS User's Guide and Verification Guide, each of which contains pictures
and graphs that demonstrate the test was successful.

A minor release occurs every three to six months.
Each minor release is tested with both the verification and validation suites. The validation cases take considerably longer to run, but the
procedure is similar -- the results are plotted and compared to the experimental measurements using an automated plotting package that
essentially redraws all of the plots and graphs in the FDS Validation Guide. The old and new guides are compared to assess whether or not
the new version of the model has become noticeably less accurate than the old. Work is underway to better quantify this procedure.

A major release of FDS occurs every few years. As the name implies, major changes are made to the algorithm, requiring months of beta testing, and several
runs through the V\&V suites.


\subsection{Announcing a New Version}

Following successful completion of the required baseline testing, a baseline can be released.  Prior to release, the
version identification information within the FDS source code will be updated to reflect the new baseline.  FDS
documentation will be updated to reflect the new baseline.  The baseline will be compiled and new executable files
or installation packages will be placed on the FDS download site.  Prior baselines will be deprecated.  The
current FDS download site is \href{http://code.google.com/p/fds-smv/downloads/list}
{{\ct http://code.google.com/p/fds-smv/downloads/list}}.





\chapter{Peer Review Process}

FDS is reviewed both internally and externally. All documents issued by the National Institute of Standards and Technology are formally reviewed
internally by members of the staff. The theoretical basis of FDS is laid out in the present document, and is subject to internal review by staff
members who are not active participants in the development of the model, but who are members of the Fire Research Division and are considered experts
in the fields of fire and combustion. Externally, papers detailing various parts of FDS are regularly published in peer-reviewed journals and
conference proceedings. In addition, FDS is used world-wide by fire protection engineering firms who review the technical details of the model
related to their particular application. Some of these firms also publish in the open literature reports documenting internal efforts to validate the
model for a particular use. Many of these studies are referenced in Volume 3 of the FDS Technical Reference Guide~\cite{FDS_Tech_Guide}.


\section{Survey of the Relevant Fire and Combustion Literature}

\label{Relevantdocs}

FDS has two separate manuals -- the FDS Technical Reference Guide~\cite{FDS_Tech_Guide} and the FDS User's Guide~\cite{FDS_Users_Guide}. The
Technical Reference Guide is broken into three volumes: (1)~Mathematical Model, (2)~Verification, and (3)~Experimental Validation. Smokeview has its
own User's Guide~\cite{Smokeview_Users_Guide}. The FDS and Smokeview User Guides only describe the mechanics of using the computer programs. The
Technical Reference Guides provides the theory, algorithm details, and verification and validation work.

There are numerous sources that describe various parts of the model. The basic set of equations solved in FDS was formulated by Rehm and Baum in the
{\em Journal of Research of the National Bureau of Standards}~\cite{Rehm:1}.  The basic hydrodynamic algorithm evolved at NIST through the 1980s and
1990s, incorporating fairly well-known numerical schemes that are documented in books by Anderson, Tannehill and Pletcher~\cite{Anderson:1}, Peyret
and Taylor~\cite{Peyret:1}, and Ferziger and Peri\'{c}~\cite{Ferziger:1}. This last book provides a good description of the large eddy simulation
technique and provides references to many current publications on the subject.  Numerical techniques appropriate for combustion systems are described
by Oran and Boris~\cite{Oran:1}.  The mixture fraction combustion model is described in a review article by Bilger~\cite{Bilger:AnnRev}. Basic heat
transfer theory is provided by Holman~\cite{Holman:1} and Incropera~\cite{Incropera:1}. Thermal radiation is described in Siegel and
Howell~\cite{Siegel:1}.

Much of the current knowledge of fire science and engineering is found in the {\em SFPE Handbook of Fire Protection Engineering}~\cite{SFPE}. Popular
textbooks in fire protection engineering include those by Drysdale~\cite{Drysdale:1} and Quintiere~\cite{Quintiere:2}. On-going research in fire and
combustion is documented in several periodicals and conference proceedings. The International Association of Fire Safety Science (IAFSS) organizes a
conference every two years, the proceedings of which are frequently referenced by fire researchers. Interscience Communications, a London-based
publisher of several fire-related journals, hosts a conference known as Interflam roughly every three years in the United Kingdom. The Combustion
Institute hosts an international symposium on combustion every two years, and in addition to the proceedings of this symposium, the organization
publishes its own journal, {\em Combustion and Flame}. The papers appearing in the IAFSS conference proceedings, the Combustion Symposium
proceedings, and {\em Combustion and Flame} are all peer-reviewed, while those appearing in the Interflam proceedings are selected based on the
submission of a short abstract. Both the Society for Fire Protection Engineers (SFPE) and the National Fire Protection Association (NFPA) publish
peer-reviewed technical journals entitled the {\em Journal of Fire Protection Engineering} and {\em Fire Technology}. Other often-cited,
peer-reviewed technical journals include the {\em Fire Safety Journal}, {\em Fire and Materials}, {\em Combustion Science and Technology}, {\em
Combustion Theory and Modeling} and the {\em Journal of Heat Transfer}.

Research at NIST is documented in various ways beyond contributions made by staff to external journals and conferences. NIST publishes several forms
of internal reports, special publications, and its own journal called the {\em Journal of Research of NIST}. An internal report, referred to as a
NISTIR (NIST Inter-agency Report), is a convenient means to disseminate information, especially when the quantity of data exceeds what could normally
be accepted by a journal. Often parts of a NISTIR are published externally, with the NISTIR itself serving as the complete record of the work
performed. Previous versions of the FDS Technical Reference Guide and User's Guide were published as NISTIRs. The current FDS and Smokeview manuals
are being published as NIST Special Publications, distinguished from NISTIRs by the fact that they are permanently archived. Work performed by an
outside person or organization working under a NIST grant or contract is published in the form of a NIST Grant/Contract Report (GCR). All work
performed by the staff of the Building and Fire Research Laboratory at NIST beyond 1993 is permanently stored in electronic form and made freely
available via the Internet and yearly-released compact disks (CDs) or other electronic media.




\section{Review of the Theoretical Basis of the Model}

\label{JustAA} The technical approach and assumptions of the model have been presented in the peer-reviewed scientific literature and at technical
conferences cited in the previous section. The major assumptions of the model, for example the large eddy simulation technique and the combustion
model, have undergone a roughly 40 year development and are now documented in popular introductory text books. More specific sub-models, like the
sprinkler spray routine or the various pyrolysis models, have yet to be developed to this extent. As a consequence, all documents produced by NIST
staff are required to go through an internal editorial review and approval process. This process is designed to ensure compliance with the technical
requirements, policy, and editorial quality required by NIST. The technical review includes a critical evaluation of the technical content and
methodology, statistical treatment of data, uncertainty analysis, use of appropriate reference data and units, and bibliographic references. The FDS
and Smokeview manuals are first reviewed by a member of the Fire Research Division, then by the immediate supervisor of the author of the document,
then by the chief of the Fire Research Division, and finally by a reader from outside the division. Both the immediate supervisor and the division
chief are technical experts in the field. Once the document has been reviewed, it is then brought before the Editorial Review Board (ERB), a body of
representatives from all the NIST laboratories. At least one reader is designated by the Board for each document that it accepts for review. This
last reader is selected based on technical competence and impartiality. The reader is usually from outside the division producing the document and is
responsible for checking that the document conforms with NIST policy on units, uncertainty and scope. He/she does not need to be a technical expert
in fire or combustion.

Recently, the US Nuclear Regulatory Commission (US NRC) published a seven-volume report on its own verification and validation study of five
different fire models used for nuclear power plant applications~\cite{NUREG_1824}. Two of the models are essentially a set of empirically-based
correlations in the form of engineering ``spread sheets.'' Two of the models are classic two-zone fire models, one of which is the NIST developed
CFAST. FDS is the sole CFD model in the study. More on the study and its results can be found in Volume~3 of the FDS Technical Reference
Guide~\cite{FDS_Tech_Guide}.

Besides formal internal and peer review, FDS is subjected to continuous scrutiny because it is available free of charge to the general public and is
used internationally by those involved in fire safety design and post-fire reconstruction. The quality of the FDS and Smokeview User Guides is
checked implicitly by the fact that the majority of model users have not taken a formal training course in the actual use of the model, but are able
to read the supporting documents, perform a few sample simulations, and then systematically build up a level of expertise appropriate for their
applications. The developers receive daily feedback from users on the clarity of the documentation and add clarifications when needed. Before new
versions of the model are released, there is a several month ``beta test'' period in which users test the new version using the updated
documentation. This process is similar, although less formal, to that which most computer software programs undergo. Also, the source code for FDS is
released publicly, and has been used at various universities world-wide, both in the classroom as a teaching tool as well as for research. As a
result, flaws in the theoretical development and the computer program itself have been identified and corrected. As FDS continues to evolve, the user
base will continue to serve as a means to evaluate the model. We consider this process as important to the development of FDS as the formal internal
and external peer-review processes.









\backmatter
\nopart

\bibliography{../Bibliography/FDS_refs,../Bibliography/FDS_general,../Bibliography/FDS_mathcomp}

\printindex

\end{document}
