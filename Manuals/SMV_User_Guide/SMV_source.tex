\documentclass[11pt,twoside]{book}

%% include commands for bios, titles etc used in multiple documents
%%
\input{../Bibliography/commoncommands}
\IfFileExists{../Bibliography/gitrevision.tex}
{\input{../Bibliography/gitrevision}}
{\newcommand{\gitrevision}{unknown} }
\usepackage{picins}

%% commands only used by this guide

\newcommand{\smvsource}[1]{\section{#1}\verbatiminput{../../SMV/source/smokeview/#1}}
\newcommand{\smvshared}[1]{\section{#1}\verbatiminput{../../SMV/source/shared/#1}}
\newcommand{\smvsourcea}[2]{\section{#1}\verbatiminput{../../SMV/source/smokeview/#2}}
\newcommand{\smvshareda}[2]{\section{#1}\verbatiminput{../../SMV/source/shared/#2}}
\newcommand{\svini}{{\tt smokeview.ini}\ }
\newcommand{\infigheight}{0.85in}
\newcommand{\figheightAbar}{2.2in}
\newcommand{\figheightC}{2.5in}
\newcommand{\infigr}[2]{
\parpic[r]{
\begin{tabular}{c}
\includegraphics[height=\infigheight]{SCRIPT_FIGURES/#1}\\
{\small\tt #2}
\end{tabular}
}
}
\newcommand{\infigl}[2]{
\parpic[l]{
\begin{tabular}{c}
\includegraphics[height=\infigheight]{SCRIPT_FIGURES/#1}\\
{\small\tt #2}
\end{tabular}
}
}
\newcommand{\frameit}[1]{\fbox{\tt #1}}
\newcommand{\kitem}[1]{\item[{\bf {\tt #1 \  }} \hfill]}
\newcommand{\figheight}{1.5in}
\newcommand{\figheightA}{2.5in}
\newcommand{\figwidth}{3.333333in}
\newcommand{\figwidthb}{2.0in}
\newcommand{\parma}{.75}
\newcommand{\parmb}{.5}
\newcommand{\parmc}{0.25}
\newcommand{\blist}{
\begin{list}
{}{
\setlength{\leftmargin}{\parma in}
\setlength{\labelwidth}{\parmb in}
\setlength{\labelsep}{\parmc in}
\setlength{\listparindent}{0.3in}
\setlength{\topsep}{.3in}
\setlength{\parsep}{.0in}
}}
\newcommand{\elist}{\end{list}}
\newcommand{\loadmenu}{\fbox{\ct Load/Unload}}
\newcommand{\hitem}[1]{\item[{\bf #1} \hfill]}
\newcommand{\hitemNULL}[1]{}
\newcommand{\hhitem}[2]{\item[{\bf #1}\ ({\em #2}) \hfill]}

%\doublespace
\begin{document}

\bibliographystyle{unsrt}
\pagestyle{empty}

%
% ----------------------  first cover/title page --------------------------
%
\begin{minipage}[t][9in][s]{6.5in}

\headerA{1017-1\\Sixth Edition\\}


\vspace{1in}

\headerB{
Smokeview, A Tool for Visualizing\\
Fire Dynamics Simulation Data\\
Volume I: User's Guide\\
}

\vspace{.5in}
\headerC{Glenn P. Forney}

\vfill

\begin{flushright}
\includegraphics[width=2.in]{FIGURES/nistident_flright_vec}
\end{flushright}
\end{minipage}

\newpage

\hspace{5in}
\newpage

%
% ----------------------  second cover/title page --------------------------
%
\begin{minipage}[t][9in][s]{6.5in}

\headerA{1017-1\\Sixth Edition}

\vspace{1.in}

\headerB{
Smokeview, A Tool for Visualizing\\
Fire Dynamics Simulation Data\\
Volume I: User's Guide\\
}

\vspace{.5in}

\headerC{Glenn P. Forney\\
{\em Fire Research Division} \\
{\em Engineering Laboratory}  \\
}

\vspace{.25in}


%\flushright{\today \\
\begin{flushright}
April 2015 \\
Smokeview Version \smvversion \\
\emph{Git Revision:}~\gitrevision
\end{flushright}
%
\vfill

\begin{flushright}
\includegraphics[width=1in]{FIGURES/doc}
\end{flushright}

\titlesigs

\end{minipage}


\date{}

\setlength{\parindent}{0.25in}

\newpage

\begin{minipage}[t][9in][s]{6.5in}


\begin{flushright}
Certain commercial entities, equipment, or materials may be identified in this \\
document in order to describe an experimental procedure or concept adequately. Such \\
identification is not intended to imply recommendation or endorsement by the \\
National Institute of Standards and Technology, nor is it intended to imply that the \\
entities, materials, or equipment are necessarily the best available for the purpose.
\end{flushright}

\vspace{3in}


\vspace{3in}

\large
\begin{flushright}
\bf National Institute of Standards and Technology Special Publication 1017-1 \\
Natl.~Inst.~Stand.~Technol.~Spec.~Publ.~1017-1, \pageref{LastPage} pages (July 2014) \\
CODEN: NSPUE2
\end{flushright}

\vfill

\end{minipage}


\frontmatter

\pagestyle{plain}

%---------------------------------------------------------------------------------
%------------------------ Preface ------------------------------------------------
%---------------------------------------------------------------------------------

\chapter{Preface}
\smvoverview
This guide is Volume I the  Smokeview User's guide.

Smokeview is a software tool designed to visualize numerical
calculations generated by fire models such as the Fire Dynamics
Simulator (FDS), a computational fluid dynamics (CFD) model of
fire-driven fluid flow or CFAST, a zone fire model. Smokeview
visualizes smoke and other attributes of the fire using
traditional scientific methods such as displaying tracer particle
flow, 2D or 3D shaded contours of gas flow data such as
temperature and flow vectors showing flow direction and magnitude.
Smokeview also visualizes fire attributes realistically so that
one can {\em experience}\ the fire. This is done by displaying a
series of partially transparent planes where the transparencies in
each plane (at each grid node) are determined from soot densities
computed by FDS.  Smokeview also visualizes static data at
particular times again using 2D or 3D contours of data such as
temperature and flow vectors showing flow direction and magnitude.

Smokeview and associated documentation for Windows, Linux and Mac
OS X may be downloaded from the web site {\bf
\hhref{http://fire.nist.gov/fds}}\ at no cost.

%---------------------------------------------------------------------------------
%------------------------ About the Author ---------------------------------------
%---------------------------------------------------------------------------------

\chapter{About the Author}

\begin{description}
\gforneybio
\end{description}

%---------------------------------------------------------------------------------
%------------------------ Disclaimer ---------------------------------------------
%---------------------------------------------------------------------------------

\chapter{Disclaimer}

The US Department of Commerce makes no warranty,
expressed or implied, to users of Smokeview, and accepts no
responsibility for its use. Users of Smokeview assume sole
responsibility under Federal law for determining the
appropriateness of its use in any particular application; for any
conclusions drawn from the results of its use; and for any actions
taken or not taken as a result of analysis performed using this
tools.

Smokeview and the companion program FDS is intended for use only
by those competent in the fields of fluid dynamics,
thermodynamics, combustion, and heat transfer, and is intended
only to supplement the informed judgment of the qualified user.
These software packages may or may not have predictive capability
when applied to a specific set of factual circumstances. Lack of
accurate predictions could lead to erroneous conclusions with
regard to fire safety. All results should be evaluated by an
informed user.

Throughout this document, the mention of computer hardware or
commercial software does not constitute endorsement by NIST,
nor does
it indicate that the products are necessarily those
best suited for the
intended purpose.

%---------------------------------------------------------------------------------
%------------------------ Acknowledgements ---------------------------------
%---------------------------------------------------------------------------------

\chapter*{Acknowledgements}
A number of people have made significant contributions to the
development of Smokeview. In trying to acknowledge those that have
contributed, we are inevitably going to miss a few people.  Let us
know and we will include those missed in the next version of this
guide.

The original version of Smokeview was inspired by Frames, a
visualization program written by James Sims for the Silicon
Graphics workstation.  This software was based on visualization
software written by Stuart Cramer for an Evans and Sutherland
computer. Frames used tracer particles to visualize smoke flow
computed by a pre-cursor to FDS. Judy Devaney made the
multi-screen eight foot Rave facility available allowing a stereo
version of Smokeview to be built that can display scenes in
3D.  Both Steve Satterfield and Tere Griffin on many occasions
helped me demonstrate Smokeview cases on the Rave inspiring many
people to the possibility of using Smokeview as a {\em virtual
reality-like}\ fire fighter training facility.

Many conversations with Nelson Bryner, Dave Evans, Anthony Hamins
and Doug Walton were most helpful in determining how Smokeview
could be adapted for use in fire fighter training applications.

Smokeview would not be possible without the use of a number of
software libraries developed by others.  Mark Kilgard while at
Silicon Graphics developed GLUT, the basic tool kit for
interfacing OpenGL with the underlying operating system on
multiple computer platforms. Paul Rademacher while a graduate
student at the University of North Carolina developed GLUI, the
software library for implementing the user friendly dialog boxes.

Significant contributions have been made by those that have used
Smokeview to visualize complex cases; cases that are used to
perform both applied and basic research.  The resulting feedback
has improved Smokeview as a result of their interaction with me,
pushing the envelope and not accepting the status quo.

For applied research, Daniel Madrzykowski, Doug Walton and Robert
Vettori of NIST have used Smokeview to analyze fire incidents.
Steve Kerber has used Smokeview to visualize flows resulting from
positive pressure ventilation (PPV) fans. David Stroup has used
Smokeview to analyze cases for use in fire fighter training
scenarios.  Conversations with Doug Walton have been particularly
helpful in identifying needed features and clarifying how best to
make their implementation user friendly.  David Evans, William
(Ruddy) Mell and Ronald Rehm used Smokeview to visualize {\em
wildland-urban interface}\ fires.   For basic research, Greg
Linteris has used Smokeview to visualize fire simulations
involving the cone calorimeter. Anthony Hamins has used Smokeview
to visualize the structure of CH$_4$/air flames undergoing the
transition from normal to microgravity conditions and fire
suppression in a compartment. Jiann Yang has used Smokeview to
visualize smoke or particle number density and saturation ratio of
condensable vapor.

This user's guide has improved through the many constructive
comments of the reviewers Anthony Hamins, Doug Walton, Ronald
Rehm, and David Sheppard. Chuck Bouldin helped port Smokeview to
the Macintosh.

Many people have sent in multiple comments and feedback by email,
in particular Adrian Brown, Scot Deal, Charlie Fleischmann, Jason
Floyd, Simo Hostikka, Bryan Klein, Davy Leroy, Dave McGill, Brian
McLaughlin, Derek Nolan, Steven Olenick, Stephen Priddy, Boris
Stock, Jason Sutula, Javier Trelles, and Christopher Wood.

Feedback is encouraged and may be sent to glenn.forney@nist.gov .

\cleardoublepage
\tableofcontents

\cleardoublepage
\listoffigures

\cleardoublepage
\listoftables

\mainmatter

\pagenumbering{arabic}

%---------------------------------------------------------------------------------
%------------------------ Introduction ----------------------------------------
%---------------------------------------------------------------------------------

\part{Smokeview Source}
\chapter{Main Routines}
\smvsource{main.c}
\smvsource{menus.c}
\smvsource{colortimebar.c}
\smvsource{camera.c} 
\smvsource{getdatacolors.c} 
\smvsource{smokeview.c}
\smvsource{output.c} 
\smvsource{renderfile.c} 
\smvsource{getdatabounds.c} 
\smvsource{readsmv.c}
\smvsource{scontour2d.c}
\smvsource{contourdefs.h}
\smvsource{flowfiles.h}
\smvsource{options.h}
\smvsource{pragmas.h}
\smvsource{smokefortheaders.h}
\smvsource{smokeheaders.h}
\smvsource{smokeviewdefs.h}
\smvsource{smokeviewvars.h}
\smvsource{threader.h}
\smvsource{update.h}
\smvsource{viewports.h}
\smvsource{callbacks.c} 
\smvsource{drawGeometry.c}
\smvsource{skybox.c} 
\smvsource{startup.c} 
\smvsource{shaders.c} 
\smvsource{unit.c} 
\smvsource{threader.c} 
\smvsource{update.c} 
\smvsource{viewports.c}
\smvsourcea{smvgeometry.c}{"smv_geometry.c"} 
\smvsource{showscene.c} 
\smvsource{glew.c}

\chapter{Dialog Routines}
\smvsourcea{gluidevices.cpp}{"glui_devices.cpp"} 
\smvsourcea{gluishooter.cpp}{"glui_shooter.cpp"} 
\smvsourcea{gluiwui.cpp}{"glui_wui.cpp"}
\smvsourcea{gluidisplay.cpp}{"glui_display.cpp"} 
\smvsourcea{gluitour.cpp}{"glui_tour.cpp"} 
\smvsourcea{glui3dsmoke.cpp}{"glui_3dsmoke.cpp"} 
\smvsourcea{gluiclip.cpp}{"glui_clip.cpp"} 
\smvsourcea{gluistereo.cpp}{"glui_stereo.cpp"} 
\smvsourcea{gluigeometry.cpp}{"glui_geometry.cpp"} 
\smvsourcea{gluimotion.cpp}{"glui_motion.cpp"}
\smvsourcea{gluibounds.cpp}{"glui_bounds.cpp"} 
\smvsourcea{gluitrainer.cpp}{"glui_trainer.cpp"}
\smvsourcea{gluicolorbar.cpp}{"glui_colorbar.cpp"} 

\chapter{IO Routines}
\smvsource{IOboundary.c}
\smvsource{IOgeometry.c} 
\smvsource{IOiso.c} 
\smvsource{IOobject.c} 
\smvsource{IOpart.c} 
\smvsource{IOplot3d.c} 
\smvsource{IOscript.c}
\smvsource{IOshooter.c} 
\smvsource{IOslice.c} 
\smvsource{IOsmoke.c} 
\smvsource{IOtour.c} 
\smvsource{IOvolsmoke.c} 
\smvsource{IOvolsmoke.h}
\smvsource{IOwui.c}
\smvsource{IOzone.c} 


\chapter{Shared Routines}
\smvshared{assert.c} 
\smvshared{compress.c} 
\smvshared{csphere.c} 
\smvshared{dmalloc.c} 
\smvshareda{fileutil.c}{"file_util.c"} 
\smvshareda{stringutil.c}{"string_util.c"} 
\smvshareda{stringutil.h}{"string_util.h"}
\smvshared{geometry.c} 
\smvshared{histogram.c} 
\smvshared{interp.c} 
\smvshared{isobox.c} 
\smvshareda{smvendian.c}{"smv_endian.c"} 
\smvshared{translate.c} 
\smvshared{ASSERT.h}
\smvshared{compress.h}
\smvshared{csphere.h}
\smvshared{datadefs.h}
\smvshareda{fileutil.h}{"file_util.h"}
\smvshared{geometry.h}
\smvshared{histogram.h}
\smvshared{interp.h}
\smvshared{isodefs.h}
\smvshared{lint.h}
\smvshared{MALLOC.h}
\smvshared{pragmas.h}
\smvshareda{smvendian.h}{"smv_endian.h"}
\smvshared{translate.h}

\chapter{Fortran Routines}
\smvsource{fdsmodules.f90}
\smvsource{gsmv.f90} 
\smvsource{getdata.f90} 
\smvsource{getsizes.f90} 

\end{document}
