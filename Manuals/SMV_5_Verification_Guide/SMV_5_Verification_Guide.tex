\documentclass[11pt,twoside]{book}
\usepackage{times,mathptm,multirow,fancyvrb,color,array}
\usepackage{picins}

%\usepackage{wrapfig}
\usepackage[pdftex]{graphicx}
\usepackage[pdftex,
        colorlinks=true,
        urlcolor=linkblue,     % \href{...}{...} external (URL)
        citecolor=linkred,     % citation number colors
        linkcolor=linknavy,    % \ref{...} and \pageref{...}
        pdftitle={Smokeview (Version 5) Verification Guide},
        pdfauthor={Glenn Forney},
        pdfsubject={Verification Guide},
        pdfkeywords={FDS, Fire Model, NIST, BFRL},
        pdfproducer={pdflatex},
       % pagebackref,
        pdfpagemode=UseNone,
        bookmarksopen=true,
        plainpages=false]{hyperref}
\usepackage{hyperref}
\pdfcompresslevel=9
\DeclareGraphicsExtensions{.jpg,.pdf,.png}
\usepackage{setspace,moreverb}

%\usepackage{eso-pic}
\usepackage{color}
\definecolor{linknavy}{rgb}{0,0,0.50196}
\definecolor{linkred}{rgb}{1,0,0}
\definecolor{linkblue}{rgb}{0,0,1}

%\makeatletter
%   \AddToShipoutPicture{%
%     \setlength{\@tempdimb}{.5\paperwidth}%
%     \setlength{\@tempdimc}{.5\paperheight}%
%     \setlength{\unitlength}{1pt}%
%     \put(\strip@pt\@tempdimb,\strip@pt\@tempdimc){
%
%\makebox(0,0){\rotatebox{45}{\textcolor[gray]{0.75}{\fontsize{8cm}{8cm}\selectfont{DRAFT
%}}}}
%    }
% }
%\makeatother

\pagestyle{empty}

\setlength{\textwidth}{6.5in}
\setlength{\oddsidemargin}{0.00in}
\setlength{\evensidemargin}{0.0in}



\setlength{\textheight}{9.0in}
\setlength{\topmargin}{0.00in}
\setlength{\parindent}{0.2in}

\setlength{\headheight}{0.00in}
\setlength{\headsep}{0.0in}
\setlength{\paperheight}{11.0in}
\setlength{\paperwidth}{8.5in}
%
% new commands for this paper
%
\newcommand{\pxtone}{ \frac{\partial x_m}{\partial T_1} }
\newcommand{\pxttwo}{ \frac{\partial x_m}{\partial T_2} }
\newcommand{\pxalpha}{ \frac{\partial x_m}{\partial \alpha} }
\newcommand{\palphatone}{ \frac{\partial \alpha}{\partial T_1} }
\newcommand{\palphattwo}{ \frac{\partial \alpha}{\partial T_2} }

\newcommand{\fdsinput}[1]{
{
\scriptsize
\verbatiminput{../../Verification/Visualization/#1}
}
}

\newcommand{\svini}{{\tt smokeview.ini}\ }
\newcommand{\bverb}{
\begin{Verbatim}[frame=single,rulecolor=\color{blue},
framerule=3pt,framesep=1pc,fillcolor=\color{yellow}]
}
\newcommand{\everb}{
\end{Verbatim}
}
\newcommand{\degC}{$^\circ$C}
\newcommand{\figoptions}{hbp}
\newcommand{\hhref}[1]{\href{#1}{{\tt #1}
}}
\newcommand{\figheight}{1.5in}
\newcommand{\infigheight}{0.75in}
\newcommand{\figheightA}{2.5in}
\newcommand{\figheightAbar}{2.2in}
\newcommand{\figheightC}{2.5in}
\newcommand{\figwidth}{3.333333in}
\newcommand{\figwidthb}{2.0in}
\newcommand{\parma}{.75}
\newcommand{\parmb}{.5}
\newcommand{\parmc}{0.25}
\newcommand{\bold}[1]{{\bf #1}}
\newcommand{\etc}{{\em etc}}
\newcommand{\ie}{{\em i.e.}}
\newcommand{\eg}{{\em e.g.}}
\newcommand{\via}{{via\ }}
\newcommand{\blist}{
\begin{list}
{}{
\setlength{\leftmargin}{\parma in}
\setlength{\labelwidth}{\parmb in}
\setlength{\labelsep}{\parmc in}
\setlength{\listparindent}{0.3in}
\setlength{\topsep}{.3in}
\setlength{\parsep}{.0in}
}}
\newcommand{\elist}{\end{list}}
\newcommand{\hitem}[1]{\item[{\bf #1} \hfill]}

\bibliographystyle{unsrt}
%\doublespace
\begin{document}
%
% ----------------------  first cover/title page --------------------------
%
\begin{minipage}[t][9in][s]{6.5in}

\huge
\flushright{NIST Special Publication 1017-3}


\vspace{1in}

\Huge
\flushright{Smokeview (Version 5) - A Tool for \\
Visualizing Fire Dynamics Simulation Data\\
Volume III: Verification Guide
}

\vspace{.5in}
\normalsize
\flushright{Glenn P. Forney}

\vfill

%\flushright{\includegraphics[width=4.0in]{figures/nistlogo_1line}}
\flushright{\includegraphics[width=2.in]{figures/nistident_flright_vec}}
\end{minipage}

\newpage

\hspace{5in}
\newpage

%
% ----------------------  second cover/title page --------------------------
%
\begin{minipage}[t][9in][s]{6.5in}

\huge
\flushright{NIST Special Publication 1017-3}

\vspace{1.in}

\Huge
\flushright{Smokeview (Version 5) - A Tool for \\
Visualizing Fire Dynamics Simulation Data\\
Volume III: Verification Guide
}

\vspace{.5in}

\normalsize
\flushright{Glenn P. Forney\\
%\includegraphics[width=1in]{figures/bfrl}  \\
{\em Fire Research Division} \\
{\em Building and Fire Research Laboratory}  \\
}

\vspace{.25in}


\flushright{July 2009\\
$SVN Repository$~$Revision$}
%
\vfill

\flushright{\includegraphics[width=1in]{figures/doc} }

\small
\flushright{U.S. Department of Commerce \\
{\em Gary Locke, Secretary} \\
\hspace{1in} \\
National Institute of Standards and Technology \\
{\em Patrick Gallagher, Acting Director} }

\end{minipage}


\date{}

\setlength{\parindent}{0.25in}

\newpage

\begin{minipage}[t][9in][s]{6.5in}


\flushright{Certain commercial entities, equipment, or materials may be identified in this \\
document in order to describe an experimental procedure or concept adequately. Such \\
identification is not intended to imply recommendation or endorsement by the \\
National Institute of Standards and Technology, nor is it intended to imply that the \\
entities, materials, or equipment are necessarily the best available for the purpose.
}

\vspace{3in}


\vspace{3in}

\large
\flushright{\bf National Institute of Standards and Technology Special Publication 1017-3 \\
Natl.~Inst.~Stand.~Technol.~Spec.~Publ.~1017-3, 60 pages (July 2009) \\
CODEN: NSPUE2 }

\vfill

\flushright{U.S. GOVERNMENT PRINTING OFFICE \\
WASHINGTON: 2009 \\
\rule{3.5in}{0.01in} \\
For sale by the Superintendent of Documents, U.S. Government Printing Office \\
Internet: bookstore.gpo.gov -- Phone: (202) 512-1800 -- Fax: (202) 512-2250 \\
Mail: Stop SSOP, Washington, DC 20402-0001 }

\end{minipage}


\frontmatter

\pagestyle{plain}

%---------------------------------------------------------------------------------
%------------------------ Preface ------------------------------------------------
%---------------------------------------------------------------------------------

\chapter{Preface}
Smokeview is a software tool designed to visualize numerical
calculations generated by fire models such as the Fire Dynamics Simulator (FDS),
a computational fluid dynamics (CFD) model of fire-driven fluid
flow or CFAST, a zone fire model. This Guide is Volume 3 of the Smokeview Reference
Guides.
This guide presents a series of images derived from FDS and Smokeview.  The intent is to to verify that the algorithms used by Smokeview for visualizing data are implemented correctly.  These images are generated automatically through the use of scripts by first running FDS on a series of input cases and then running Smokeview, again using a set of scripts.  The correctness of Smokeview may then be verified more easily as FDS and Smokeview are updated since the reference figures in this document may be generated simply and automatically.

Smokeview and associated
documentation for Windows, Linux and Mac/OSX may be downloaded from  {\bf
\hhref{http://fire.nist.gov/fds}} .

%---------------------------------------------------------------------------------
%------------------------ About the Author ---------------------------------------
%---------------------------------------------------------------------------------

\chapter{About the Author}
\begin{description}
\input{../SMV_5_User_Guide/forney}
\end{description}

%---------------------------------------------------------------------------------
%------------------------ Disclaimer ---------------------------------------------
%---------------------------------------------------------------------------------

\chapter{Disclaimer}

The US Department of Commerce makes no warranty,
expressed or implied, to users of Smokeview, and accepts no
responsibility for its use. Users of Smokeview assume sole
responsibility under Federal law for determining the
appropriateness of its use in any particular application; for any
conclusions drawn from the results of its use; and for any actions
taken or not taken as a result of analysis performed using this
tools.

Smokeview and the companion program FDS is intended for use only
by those competent in the fields of fluid dynamics,
thermodynamics, combustion, and heat transfer, and is intended
only to supplement the informed judgment of the qualified user.
These software packages may or may not have predictive capability
when applied to a specific set of factual circumstances. Lack of
accurate predictions could lead to erroneous conclusions with
regard to fire safety. All results should be evaluated by an
informed user.

Throughout this document, the mention of computer hardware or
commercial software does not constitute endorsement by NIST,
nor does
it indicate that the products are necessarily those
best suited for the
intended purpose.

\tableofcontents
\listoffigures

\mainmatter

\pagenumbering{arabic}

%
% .............. new section ..............................
%
%\pagestyle{fancy}
%\newcounter{picno}
%\setcounter{picno}{24}
%\newcounter{picnoe}
%\setcounter{picnoe}{24}
%\fancyhead{} \fancyfoot[RO] {
% \setlength{\unitlength}{1mm}
% %\stepcounter{picno}
% \addtocounter{picno}{-1}
% \begin{picture}(0,0)
%   \put(-15,0){
%     \epsfig{height=1.125in,figure=figures/movies/tankfarm_\number\value{picno}.eps}
%   }
% \end{picture}
%}
%
%\fancyfoot[LE]
%{
%  \setlength{\unitlength}{1mm}
%  %\stepcounter{picnoe}{-1}
%  \addtocounter{picnoe}{-1}
%  \begin{picture}(0,0)
%    \put(-15,0){
%      \epsfig{height=1.25in,figure=figures/movies/townhouse3_\number\value{picnoe}.eps}
%    }
%  \end{picture}
%}
%\renewcommand{\headrulewidth}{0.0pt}
%\renewcommand{\footrulewidth}{0.0pt}
%\renewcommand{\footskip}{1.5in}

%---------------------------------------------------------------------------------
%------------------------ Overview ----------------------------------------
%---------------------------------------------------------------------------------
\chapter{Overview}
Smokeview is a scientific software tool designed to visualize numerical
predictions generated by fire models such as the Fire Dynamics Simulator (FDS),
a computational fluid dynamics (CFD) model of fire-driven fluid
flow~\cite{FDS_Tech_Guide_5} or CFAST, a zone model of compartment fire phenomena~\cite{Jones:2004A}.
The feature set and user interface for Smokeview is complex making it difficult to adequately test all of its features manually.  A scripting capability has been added to Smokeview to solve this problem.  Many of Smokeview's features may be now be run without user intervention through the use of scripts.  A script is simply a text file containing one or more commands.  Smokeview when {\em requested}\ by the user reads in this script and performs the actions listed.  Some of these actions are loading data files, setting view points, setting times and most importantly rendering images.  By designing a set of scenarios and corresponding images that demonstrate Smokeview's feature set, one may test Smokeview simply by 1) running one master batch file that generates all of the images of this document and 2) examining these images to ensure that Smokeview is working as expected.

This document then verifies that various Smokeview features are working as intended by presenting a series of  FDS simulation results in the form of Smokeview images.  These images are generated using the various visualization features of Smokeview such as tracer particles, 2D or 3D contours, or realistic smoke.

{\em Verification} in the context of Smokeview is a process to check the correctness
of the visualization.  Verification does not imply that the underlying data is correct only
that the data is presented or visualized correctly.
A separate Guide~\cite{FDS_Verification_Guide_5} documents verification for FDS.  One set of scripts is used to run FDS cases and a second set of scripts is used by Smokeview to generate images.  The verification process then becomes much easier to accomplish since the use of scripts ({\em i.e.}\ a non manual methods) guarantees that consistent figures (same view points, same time points, same data files loaded {\em etc.}) are produced as new versions of this verification document are generated using updated version of FDS and/or Smokeview.  Another way of looking at this verification process is to
consider this document and the FDS verification document~\cite{FDS_Verification_Guide_5} as being a {\em live}\ not a static document, easily updated as algorithms in FDS and/or Smokeview are enhanced and improved.

Smokeview has several limitations that need to be addressed.  The
32 bit\footnote{The term 32 bit refers to the number of bits used to address memory.}
version of Smokeview can only allocate or use around 3GB of memory.  Larger cases can be visualized
with the 64 bit version of Smokeview but the time required to load large data files makes viewing these types of cases slow and tedious.  The program smokezip exists in order to compress FDS generated data files making viewing large files more practical.  A second limitation involves the use of color to display volumetric or 3D smoke/fire data.  The color is intended to represent where the heat release per unit volume data ({\em ie}\ the fire) is located.  The color itself is not what the fire actually look like.  3D smoke is visualized assuming surfaces are lit uniformly and obscured by varying thicknesses of smoke.  The 3D smoke visualization does not take into account external lighting, for example, external lighting such as man made lights within the scene or light generated by the fire.  The opacity model used to draw the 3D smoke assumes a particular wavelength of visible light. Smokeview cannot now visualize FDS generated data at other wavelengths (such as infrared).

Details on setting up and
running FDS cases may be found in the FDS User's
Guide~\cite{FDS_Users_Guide_5}.  Details on visualizing FDS simulated data using Smokeview may
be found in the Smokeview User's Guide~\cite{Smokeview_Users_Guide_5}.  Details on some of the technical
aspects used to implement algorithms in Smokeview may be found in the Smokeview Technical Guide~\cite{Smokeview_Tech_Guide_5}.

The Smokeview version used to generate the verification figures in this document is
{
%\scriptsize
\verbatiminput{scriptfigures/smokeview.version}
}

FDS generated data is presumed
to be correct.  FDS has its own set of verification cases to test the correctness of the data.
The purpose of the cases here is to confirm that data is drawn or visualized correctly.
In particular these cases confirm
that correct files are loaded, data is scaled and drawn correctly, geometry is drawn correctly
{\em etc.}   Three types of verification cases are presented. The first set are the most important. Those cases verify that data is drawn correctly.  The second set of
cases verify that various geometric elements are drawn correctly and the third set verifies
that the various options and underlying features are implemented and perform properly.

The FDS input files used for the verification cases are documented in Appendix \ref{fdsinputfiles}.  The Smokeview scripts used to generate the verification figures are documented in Appendix \ref{smvscripts}.  Note that these input files and scripts are located in the FDS svn repository.  In fact, the entries in the appendices are included directly from the repository, and will therefore be up to date as this document is regenerated.


%---------------------------------------------------------------------------------
%------------------------ Visualization Test Cases %---------------------------------------------------------------------------------

\newcommand{\figheightD}{2.75in}
\newcommand{\figheightE}{2.5in}
\newcommand{\figheightF}{2.25in}
\newcommand{\figheightG}{1.9in}
\newcolumntype{M}[1]{>{\centering\arraybackslash}m{#1}}

\chapter{Data File Tests}

\begin{figure}[\figoptions]
\begin{center}
\includegraphics[height=3.0in]{scriptfigures/plume5c_bounddef_init}
\end{center}
 \caption{The temperatures in the plume5c.fds case are initialized to 600~\degC\ in
 the region outlined in blue.
 }
\label{figbounddef}%
\end{figure}

The tests in this chapter verify whether visualization types such as surface contours (boundary files), isosurfaces, particles, slice files, 3D smoke files, PLOT3D files and fire lines (for WUI simulations) are working as intended.  These verifications use the FDS input files {\tt plume5c.fds}\ (see Appendix \ref{FDSplume5c}) and {\tt fireline.fds} (see Appendix \ref{FDSfireline}) to generate the simulation data.  {\tt plume5c.fds}, models a simple fire plume with two blockages to make the smoke flow more complex.  The upper blockage is initialized to 600~\degC.   The gas phase is initialized to 600~\degC\ in the interior region colored blue as illustrated in Figure \ref{figbounddef} in order to verify that this temperature is converted to the proper color (as shown in the colorbar).
The {\tt fireline.fds}\ test case is a terrain test case.  The center of the case has a {\em hill}.  The fire line data displayed conforms to this hill.

The verification figures are generated automatically using the Smokeview script files {\tt plume5c.ssf}\ (see Appendix \ref{SSFplume5c}) and {\tt fireline.ssf}\ (see Appendix \ref{SSFfireline}).  The use of scripting allows the figures and hence this document to be updated easily as changes are made in FDS, Smokeview or the FDS input data files.  This allows the verification process to be ongoing.



\section{Surface contours (Boundary Files)}
Figure \ref{figboundtest} presents images verifying the display of surface contours or boundary file data.
A series of boundary file images are drawn at 0.0, 10.0 and 30.0
seconds.  The temperature of the upper obstacle is initialized to 600~\degC\ hence the red colors for the $t=0.0$ images.
The first column of images colors data at cell nodes using temperatures averaged at surrounding cell centers.  The second column of images colors data using data values at cell centers.
The FDS input file for this test is {\tt plume5c.fds}.
The images for this test were created automatically by running the smokeview script, {\tt plume5c.ssf}.

\begin{figure}[\figoptions]
\begin{center}
\begin{tabular}{rccl}
 0.0 s
 & \includegraphics[height=\figheightD]{scriptfigures/plume5c_bound_00}
 & \includegraphics[height=\figheightD]{scriptfigures/plume5c_bound_cell_00}\\
 10.0 s&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_bound_10}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_bound_cell_10}\\
 30.0 s&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_bound_30}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_bound_cell_30}\\
&cell averaged  data&cell centered data\\
 &&&\raisebox{0.5in}[0pt]{\includegraphics[height=7.5in]{figures/colorbar_20_620}}\\
  \end{tabular}
\end{center}
 \caption[Boundary file test.]{Boundary file test. The upper obstacle is initialized to 600.0~\degC\ and should be red for the $t=0.0$ images.}
\label{figboundtest}%
\end{figure}

\section{Iso-surfaces}
An isosurface is a surface in 3-D space that defines constant values of a dependent variable.
Figures \ref{figisotest} and \ref{figisotest2} present images verifying the display of isosurfaces.
A series of temperature isosurfaces are drawn at 0.0, 10.0 and 30.0
seconds.  A portion of the interior gas temperature is initialized to 600.0~\degC\ hence the rectangular block that appears in the $t=0.0$ images.
The first column in figure \ref{figisotest2}\ presents the iso-surface using points.  The second column presents the iso-surface using triangulated outlines.
The first column in figure \ref{figisotest}\ presents the iso-surface using a solid surface.  The second column also presents the iso-surface using a solid surface but also includes normal vectors.
The FDS input file for this test is {\tt plume5c.fds}.
The images for this test were created automatically by running the smokeview script, {\tt plume5c.ssf}.

\begin{figure}[\figoptions]
\begin{center}
\begin{tabular}{rcc}
 0.0 s&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_iso_points_00}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_iso_outline_00}\\
 10.0 s&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_iso_points_10}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_iso_outline_10}\\
 30.0 s&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_iso_points_30}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_iso_outline_30}\\
 &point view&outline view
  \end{tabular}
\end{center}
 \caption[Isosurface file test 1.]{Isosurface file test 1. A portion of the interior gas temperature is initialized to 600.0~\degC.  The isosurface should surround this region for the $t=0.0$ images.}
\label{figisotest}%
\end{figure}

\begin{figure}[\figoptions]
\begin{center}
\begin{tabular}{rcc}
 0.0 s&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_iso_solid_00}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_iso_solid_normal_00}\\
 10.0 s&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_iso_solid_10}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_iso_solid_normal_10}\\
 30.0 s&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_iso_solid_30}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_iso_solid_normal_30}\\
 &solid view&solid view with normal vectors
  \end{tabular}
\end{center}
 \caption[Isosurface file test 2.]{Isosurface file test 2. A portion of the interior gas temperature is initialized to 600.0~\degC.  The isosurface should surround this region for the $t=0.0$ images.}
\label{figisotest2}%
\end{figure}

\subsection{Sensitivity Analysis}
\begin{figure}[\figoptions]
\begin{center}
\includegraphics[height=3.0in]{figures/linear_interpolationiso}
\end{center}
 \caption{A portion of an iso-surface defined by $f(x,y,z)=T_m$ (for some function $f$) crossing a line segment at $(x_m,y,z)$.
  }
\label{figisointerpiso}%
\end{figure}

Given that data used to generate an isosurface has uncertainty, an important question to consider is how sensitive is the isosurface location to uncertainty in the data used to define it?
Figure \ref{figisointerpiso} shows a portion of an iso-surface, $f(x,y,z)=T_m$, passing through a line segment at $(x_m,y,z)$.  The line segment is defined by endpoints $(x_1,y,z)$ and $(x_2,y,z)$.  The key step in constructing an isosurface is solving an inverse interpolation problem.   That is, determining the location, $(x_m,y,z)$ between two grid nodes, $(x_1,y,z)$ and $(x_2,y,z)$ where interpolated data takes on a particular value (the isosurface level, $T_m$, being constructed).

\begin{figure}[\figoptions]
\begin{center}
\includegraphics[height=3.0in]{figures/linear_interpolation}
\end{center}
 \caption[Inverse linear interpolation setup.]{Inverse linear interpolation setup.
 The dependent data values $T_1$ and $T_2$ are known at locations $x_1$ and $x_2$.
 The inverse interpolation problem is to find the location $x_m$ that has value $T_m$.
 This is found noting that $(x_m-x_1)/(x_2-x_1)=(T_m-T_1)/(T_2-T_1)$.
  }
\label{figisointerp}%
\end{figure}

Suppose, as illustrated in Figure \ref{figisointerp}, that $(x_1,y,z)$, $T_1$ and $(x_2,y,z)$, $T_2$ represent two known data location, data value pairs and that $T_m$ is also known satisfying $T_1\le T_m \le T_2$.  The inverse interpolation problem then is to find the location $(x_m,y,z)$ that takes on the data value $T_m$.  The location $x_m$ is given by
\begin{eqnarray*}
x_m=(1-\alpha)x_1+\alpha x_2
\end{eqnarray*}
where
\begin{eqnarray*}
\alpha=\frac{T_m-T_1}{T_2-T_1}
\end{eqnarray*}

\noindent The sensitivity of $x_m$ due to a change $\Delta T_1$ in $T_1$ and to a change $\Delta T_2$ in $T_2$ is given by
\begin{eqnarray}
\Delta x_m= \pxtone \Delta T_1 + \pxttwo \Delta T_2
\label{eq:sensitivity}
\end{eqnarray}
where
\begin{eqnarray}
\pxtone&=&\pxalpha\palphatone \label{eq:sensfirst}\\
\pxttwo&=&\pxalpha\palphattwo
\end{eqnarray}
and
\begin{eqnarray}
\pxalpha&=&x_2-x_1\\
\palphatone&=&\frac{T_m-T_2}{(T_2-T_1)^2}\\
\palphattwo&=&-\frac{T_m-T_1}{(T_2-T_1)^2}
\label{eq:senslast}
\end{eqnarray}
Equation (\ref{eq:sensitivity}) may be re-written using terms in equations (\ref{eq:sensfirst}) through (\ref{eq:senslast}) to obtain
\begin{eqnarray}
\frac{\Delta x_m}{x_2-x_1}&=&\frac{T_m-T_2}{(T_2-T_1)^2}\Delta T_1-
\frac{T_m-T_1}{(T_2-T_1)^2}\Delta T_2
=-\left(
(1-\alpha)\frac{\Delta T_1}{T_2-T_1}+
\alpha\frac{\Delta T_2}{T_2-T_1}\right)
\label{eq:sensfinal}
\end{eqnarray}

\noindent Equation (\ref{eq:sensfinal}) relates the relative error of $x_m$
to the relative errors of $T_1$ and $T_2$ in terms of the interpolation parameter $\alpha$.
The error $\Delta x_m$ may then be bounded to obtain
\begin{eqnarray}
|\Delta x_m|\le
|x_2-x_1|\frac{\max(|\Delta T_1|,|\Delta T_2|)}{|T_2-T_1|}
\end{eqnarray}
\noindent Uncertainty in isosurface location is then proportional to the magnitude of data uncertainty, $\max(|\Delta T_1|,|\Delta T_2|)$, and inversely proportional to the data variation, $|T_2-T_1|$.

\section{Particles}

Figures \ref{figparttest} presents images verifying the display of particles and streaks.
Images are drawn at 1.0, 10.0 and 30.0
seconds.
The first column shows particles while the second and third columns shows streaks with duration 0.5 s and 1.0 s.  Streaks are a good way of visualizing motion in a still image ({\em i.e.}\ on paper) since the streak shows a history of where the particle has been.
The FDS input file for this test is {\tt plume5c.fds}.
The images for this test were created automatically by running the smokeview script.

\begin{figure}[\figopt
ions]
\begin{center}
\begin{tabular}{rccc}
 1.0 s&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_part_01}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_part_streak_01}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_part_streak2_01}\\
 10.0 s&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_part_10}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_part_streak_10}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_part_streak2_10}\\
  30.0 s&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_part_30}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_part_streak_30}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_part_streak2_30}\\
 &points&0.5 s streaks&1.0 s streaks\\
  \end{tabular}
\end{center}
 \caption{Particle file test.}
\label{figparttest}%
\end{figure}

\section{Slices}
Figure \ref{figslicetest} present images verifying the display of slices and vector slices.
Images are drawn at 0.0, 10.0 and 30.0
seconds.   A portion of the interior gas temperature is initialized to 600.0~\degC\ corresponding to the red rectangular block appearing in the $t=0.0$ images.
The first column visualizes all of the data in the slice.  The second data discards or chops data below 140~\degC.
Note that the color near the chopped boundary should match the color in the colorbar near 140.0~\degC.
Figure \ref{figvslicetest} present images verifying the display of vector slices.
Again, vector slice file images are drawn at 5.0, 10.0 and 30.0
seconds.  The first column draws all vectors while the second column discards or chops vectors below 140~\degC.
The FDS input file for this test is {\tt plume5c.fds}.
The images for this test were created automatically by running the smokeview script, {\tt plume5c.ssf}.

\begin{figure}[\figoptions]
\begin{center}
\begin{tabular}{cccp{1.0in}}
 \includegraphics[height=\figheightE]{scriptfigures/plume5c_slice_00}&
 \includegraphics[height=\figheightE]{scriptfigures/plume5c_slice_chop_00}&
 \includegraphics[height=\figheightE]{scriptfigures/plume5c_slice_cell_00}\\

 \includegraphics[height=\figheightE]{scriptfigures/plume5c_slice_10}&
 \includegraphics[height=\figheightE]{scriptfigures/plume5c_slice_chop_10}&
 \includegraphics[height=\figheightE]{scriptfigures/plume5c_slice_cell_10}\\

 \includegraphics[height=\figheightE]{scriptfigures/plume5c_slice_30}&
 \includegraphics[height=\figheightE]{scriptfigures/plume5c_slice_chop_30}&
 \includegraphics[height=\figheightE]{scriptfigures/plume5c_slice_cell_30}\\

 cell averaged data&data chopped below 140\degC&cell centered data\\
 &&&\raisebox{1.0in}[0pt]{\includegraphics[height=7.0in]{figures/colorbar_20_620}}\\
 \end{tabular}
\end{center}
 \caption[Slice file test.]{Slice file test.  A portion of the interior gas temperature is initialized to 600.0~\degC.  The slice file in this region should be red for the $t=0.0$ images.  For the chopped contours, the color near the chop boundary should match the color near 140.0 in the colorbar.}
\label{figslicetest}%
\end{figure}

\begin{figure}[\figoptions]
\begin{center}
\begin{tabular}{rccl}
 0.0 s&
 \includegraphics[height=\figheightE]{scriptfigures/plume5c_vslice_00}&
 \includegraphics[height=\figheightE]{scriptfigures/plume5c_vslicechop_00}\\
 10.0 s&
 \includegraphics[height=\figheightE]{scriptfigures/plume5c_vslice_10}&
 \includegraphics[height=\figheightE]{scriptfigures/plume5c_vslicechop_10}\\
 30.0 s&
 \includegraphics[height=\figheightE]{scriptfigures/plume5c_vslice_30}&
 \includegraphics[height=\figheightE]{scriptfigures/plume5c_vslicechop_30}\\
 &&data chopped below 140~\degC\\
 &&&\raisebox{0.5in}[0pt]{\includegraphics[height=7.5in]{figures/colorbar_20_620}}\\

 \end{tabular}
\end{center}
 \caption[Vector slice file test.] {Vector slice file test. A portion of the interior gas temperature is initialized to 600.0~\degC.  The vectors in this region should be red for the $t=0.0$ images.    For the chopped contours, the color near the chop boundary should match the color near 140.0 in the colorbar.}
\label{figvslicetest}%
\end{figure}

\section{3D Smoke}
Figures \ref{figsmoketest} present images verifying the display of 3D smoke and fire (heat release per unit volume).
A series of 3D smoke images are drawn at 1.0, 10.0 and 30.0
seconds.  The images contain semi-transparent slices derived from both soot density and heat release rate  per unit volume (HRRPUV) data.
The FDS input file for this test is {\tt plume5c.fds}.
The images for this test were created automatically by running the smokeview script, {\tt plume5c.ssf}.

\begin{figure}[\figoptions]
\begin{center}
\begin{tabular}{ccc}
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_smoke_01}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_smoke_10}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_smoke_30}\\
 1.0 s&
 10.0 s&
 30.0 s

 \end{tabular}
\end{center}
 \caption{3D smoke file test.}
\label{figsmoketest}%
\end{figure}

\section{Plot3D}
Figure \ref{figPLOT3Dtest} present images verifying the display of PLOT3D contours.
Three types of contours are available for visualizing PLOT3D data: line, stepped and continuous.  This figure shows all three contour types.
The FDS input file for this test is {\tt plume5c.fds}.
The images for this test were created automatically by running the smokeview script, {\tt plume5c.ssf}.
\begin{figure}[\figoptions]
\begin{center}
\begin{tabular}{ccc}
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_plot3d_line}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_plot3d_step}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_plot3d_shaded}\\
 step contours&
 step contours&
 continuous contours
 \end{tabular}
\end{center}
 \caption[PLOT3D file test]{PLOT3D file test showing three different types of temperature contours (line,
 stepped, continuous) .}
\label{figPLOT3Dtest}%
\end{figure}

\section{Fire Lines}
Figures \ref{figfirelinetest} present images verifying the display of a fire line.
A fire line is used with wildland fire simulations as an efficient method for visualizing the motion of a fire across the simulation.
A fire line in the context of Smokeview is just a special case of a temperature slice file.  The fire line slice is formed by setting the min and max temperature bounds to 20\degC\ and 200\degC\ respectively and chopping data below 150\degC.   The fire line slice file can then be made very small using Smokezip to compress it.   Fire line images are drawn at 10.0, 20.0, 30.0 and 40.0 seconds.  The fire lines conform to the hill going through the middle of the scene.
The FDS input file for this test is {\tt fire\_line.fds}.
The images for this test were created automatically by running the smokeview script, {\tt fire\_line.ssf}.

\begin{figure}[\figoptions]
\begin{center}
\begin{tabular}{cc}
\includegraphics[height=\figheightD]{scriptfigures/fire_line_fireline_10}&
\includegraphics[height=\figheightD]{scriptfigures/fire_line_fireline_20}\\
10 s&20 s\\

\includegraphics[height=\figheightD]{scriptfigures/fire_line_fireline_30}&
\includegraphics[height=\figheightD]{scriptfigures/fire_line_fireline_40}\\
30 s&40 s\\

 \end{tabular}
\end{center}
 \caption[Fire line test]{Fire line test.  The fire line, a region of high temperature, follows the terrain as
 it progresses from left to right.}
\label{figfirelinetest}%
\end{figure}


\chapter{Smoke Visualization Tests}

Proper smoke visualization requires that smoke flow be both computed and drawn correctly.
The FDS Verification Guide~\cite{FDS_Verification_Guide_5} addresses the question of correct
computation in terms of soot/smoke production, transport {\em etc.}  In this chapter, it is presumed that the FDS component of verification is correct and considers the question, ``Is the smoke drawn correctly?''.  More precisely, given a known density and distribution of soot does the 3D smoke drawn by Smokeview match how {\em theory}\ suggests it should look.  Presently, the main interest is in how smoke obscures objects in the background.  Visualization effects due to light scattering are not modeled except to consider the smoke albedo when drawing its grey level.

The smoke drawing verification problem can be broken down into two steps.  The first step is to verify that Smokeview can record or denote the correct grey level of smoke that is drawn.
The second step is to verify that Smokeview can draw the correct shade of grey given a known soot density level.

\section{Recording Smoke Levels}
To record smoke grey levels, Smokeview makes use of a special FDS sensor or device.
This device behaves like other FDS devices but has the additional property that when used by Smokeview, it displays the grey level as viewed by the observer.  This grey level is displayed as a number between 0 and 255.  The grey level is simply Smokeview's computation of the integrated {\em smoke thickness}\ along a path between the sensor location and the eye.  These computations are performed by the video card using OpenGL, the graphics library used by Smokeview to visualize FDS scenarios.  The user places a device of type {\tt smoke\_sensor}\ at a particular $(x, y, z)$ location.
Smokeview displays the sensor as a white disk with color (255,255,255) always oriented towards the observer. When drawing smoke that resides between the sensor and the observer (your eye) the smoke sensor is partially obscured by the smoke.  Smokeview then alters the smoke sensor color according to how much and how thick the intervening smoke is.  It does this by blending each smoke plane one plane at a time using the color and opacity levels of that plane.

Figure \ref{figsmokesensor} illustrates an initial test of this process.  It verifies that Smokeview correctly {\em knows}\ where the sensor is located and can correctly record its grey level even when surrounded by other objects of different colors.  In this case, the smoke sensor is white and there is no intervening smoke.  The background is a neutral grey with grey level of 128.  The value displayed over the sensor then should always be 255 no matter how the scene is oriented.  The figure shows two extreme orientations of the box containing the sensor.
\begin{figure}[\figoptions]
\begin{center}
 \centering
\begin{tabular}{cc}
\includegraphics[width=3.0in]{scriptfigures/smoke_sensor_r}&
\includegraphics[width=3.0in]{scriptfigures/smoke_sensor_l}\\
 \end{tabular}
\end{center}
\caption[Smoke sensor test.]{Smoke sensor test.
A small white (255,255,255) smokesensor appears in front of a grey (128,128,128) obstacle.
The red dot indicates where the smoke opacity is recorded.
}
\label{figsmokesensor}%
\end{figure}

Figure \ref{figgraysquare} shows two colorbars, both containing shades of grey.  One shows white and
near-white shades, the other shows black and near black shades.  This figure illustrates the difficulty one has in distinguishing nearly equal shades and by inference the difficulty in distinguishing two smoke scenes drawn using nearly {\em amounts}\ of smoke.  When comparing a computed smoke shade with the actual (as in Figure \ref{figsmoketest2}) one must keep in mind the eye's inability to distinguish nearly equal shades of grey.

\begin{figure}[\figoptions]
\begin{center}
 \centering
\begin{tabular}{c}
\includegraphics[width=6.0in]{figures/graysquares_black}\\
\includegraphics[width=6.0in]{figures/graysquares_white}\\
 \end{tabular}
\end{center}
 \caption[Shade of grey resolution test.]{Shade of grey resolution test.
 The number within each square represents the shade of grey used to color that square,
 0 for black and 255 for white.  Adjacent squares are drawn with nearly equal shades
 testing the ability of sensors such as the eye, computer monitor or the printed page
 to distinguish them.
 }
\label{figgraysquare}%
\end{figure}

\section{Verifying Smoke Levels}
The strategy for verifying smoke levels in Smokeview is to set up an FDS case with constant smoke density throughout the domain.  The smoke density and the mass extinction coefficient are chosen in concert to generate a predetermined opacity for a given path length.   These predetermined opacities or grey levels are 8, 16, 32, 64, 128 and 192.  Beer's law in the form of
\begin{eqnarray*}
\alpha = 255\exp(-KS\Delta x)
\end{eqnarray*}
is used to relate these predetermined opacities to path length where $\alpha$ is a scaled opacity (from 0 to 255 rather than the usual 0.0 to 1.0),
$K$ is the mass extinction coefficient\footnote{For most flaming fuels, a suggested value for $K$ is
8700~m$^2$/kg~$\pm$~1100~m$^2$/kg at a
wavelength of 633~nm~\cite{Mulholland:F+M}},
$S$ is the soot density and $\Delta x$ is the path length.  For the verification case it is assumed that $S$ is constant enabling $\alpha$ to be computed simply.

Figure \ref{figsmoketestgeom} shows a side view of the numerical smoke box used to perform this test.  In addition to the walls surrounding the box, this box consists of  six parallel walls within the box spaced 1.0~m apart.  The widths increase from one wall to the next (from front to back) so that when looking at the box from the front a different distance or path length occurs between the observer and the portion of the wall that is visible.  Again, the spacing between the walls, the distance between the walls and the observer and the initial soot densities is chosen so that the computed smoke obscurations work out to {\em nice}\ values.

\begin{figure}[\figoptions]
\begin{center}
 \centering
\begin{tabular}{c}
 \includegraphics[height=4.0in]{scriptfigures/smoke_test_side}
 \end{tabular}
\end{center}
 \caption[Side view of numerical smoke test compartment.]{Side view of the numerical smoke test compartment.  Walls are placed at 0.4~m, 1.0~m, 2.0~m, 3.0~m, 4.0~m and 5.0~m from the front to make the theoretical grey levels work out to 8, 16, 32, 64, 128 and 192 .}
\label{figsmoketestgeom}%
\end{figure}

Figure \ref{figsmoketest2} shows quantitative tests of the smoke opacity calculation performed in Smokeview for two different FDS grid resolutions and three different skip levels.\footnote{Smokeview allows one to skip grid planes when visualizing smoke.  The smoke opacity is adjusted by Smokeview to account for the skips.} This figure also gives the predicted shades of grey based upon the inputted soot densities, mass extinction coefficient and path lengths.  The smoke visualization algorithm is verified then if the shades of grey in the Smokeview visualizations match the corresponding predicted shades of grey.  Each shaded
rectangle is accompanied by a numerical value that can also be used to judge whether the visualization is verified.

The numbers displayed in this Figure \ref{figsmoketest2} represent the shade of the underlying rectangle.  These numbers may be verified by using a program such as Adobe Photoshop to examine the pixel values of this rectangular region.  The numbers are verified when they match the pixel values as reported by Photoshop or any other program that can report image values..

When soot densities are constant, smoke grey level or opacity, $\alpha$ may be computed by using
\begin{eqnarray}
\label{eq:alpha}
\alpha = 255\exp(-KS\Delta x)
\end{eqnarray}
where $K=8700$~m$^2$/kg is the mass extinction value, $S=79.67$~mg/m$^3$ is the soot density
and $\Delta x$ is the smoke path length.  Solving equation (\ref{eq:alpha}) for $\Delta x$ gives
\begin{eqnarray}
\label{eq:deltaX}
\Delta x = -\frac{\ln(\alpha/255)}{KS}
\end{eqnarray}
Path lengths (smoke sensor locations) are chosen to obtain grey levels ($\alpha$) of 192, 128, 64, 32, 16 and 8.  These path lengths may be found by substituting these grey levels into equation (\ref{eq:deltaX}) to obtain $\Delta x$ values of 0.41~m, 1.0~m, 2.0~m, 3.0~m, 4.0~m and 5.0~m respectively.  The walls in {\tt smoketest2.fds}\ are placed at these distances from the front of the simulation domain.
Comparing the Smokeview generated smoke levels with theoretical values one finds as expected that better results are achieved when using a more refined grid (0.1~m rather than 0.2~m) and using all planes (no skipping).

\begin{figure}[\figoptions]
\begin{center}
 \centering
\begin{tabular}{m{1in}m{3in}m{3in}}
 &0.1 m grid&0.2 m grid\\
 all planes&
 \includegraphics[height=\figheightF]{scriptfigures/smoke_test_all}&
 \includegraphics[height=\figheightF]{scriptfigures/smoke_test2_all}\\
 every 2nd plane&
 \includegraphics[height=\figheightF]{scriptfigures/smoke_test_every2}&
 \includegraphics[height=\figheightF]{scriptfigures/smoke_test2_every2}\\
 every 3rd plane&
 \includegraphics[height=\figheightF]{scriptfigures/smoke_test_every3}&
  \includegraphics[height=\figheightF]{scriptfigures/smoke_test2_every3}\\
 theoretical&
 \multicolumn{2}{c}{\includegraphics[height=1.0in]{figures/graysquares}}\\
 \end{tabular}
\end{center}
 \caption[3D smoke file test 2.]{3D smoke file test 2.
 A quantitative test of the smoke opacity calculation in Smokeview.  This test simplifies
  the general case by assuming a uniform distribution of smoke.  The test is repeated for two grid resolutions and three grid spacings.  The FDS input file is set up to result in theoretical grey levels of 8, 16, 32, 64, 128 and 192 for the different regions of the test.
 }
\label{figsmoketest2}%
\end{figure}




\chapter{Other Tests}
\section{Obstacles}
Figure \ref{figobsttest} tests obstacle display.  This figure shows obstacles drawn three different ways, as solids, as outlines or hidden.

\begin{figure}[\figoptions]
\begin{center}
\begin{tabular}{ccc}
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_solid}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_outline}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_hidden}\\
 solid view of obstacles&
 outline view of obstacles&
 obstacles hidden\\

 \end{tabular}
\end{center}
 \caption{Obstacle view test.}
\label{figobsttest}%
\end{figure}

\section{Vents}
Figure \ref{figventtest} tests vent display.  This figure shows all vents displayed, only vents that are not of type open displayed of hides all vents.

\begin{figure}[\figoptions]
\begin{center}
\begin{tabular}{ccc}
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_allvents}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_noopen}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_novents}\\
 show all vents&
 show only vents that are not open vents&
 vents hidden\\

 \end{tabular}
\end{center}
 \caption{Vent view test.}
\label{figventtest}%
\end{figure}

\section{Conversion to Color}
Smokeview converts data values obtained from an FDS calculation
to color using a linear scaling of the form
\begin{eqnarray*}
C_i=255\frac{V_i-V_{min}}{V_{max}-V_{min}}
\end{eqnarray*}
where $C_i$ is an index into a color table between 0 and 255, $V_{min}$ and $V_{max}$  are data bounds
and $V_i$ is a data value to be converted.
Figure \ref{figcolorconv} presents images verifying the conversion of data to colors.
The input file, {\tt colorconv.fds}\ (see Appendix \ref{FDScolorconv}), for this test was set up so that
initially the left half of the domain (it is a 2D case) is 20~\degC\ and the right half is 100~\degC.
The images for this test were created automatically by running the smokeview script, {\tt colorconv.ssf}\ (see Appendix \ref{SSFcolorconv}).


\begin{figure}[\figoptions]
\begin{center}
\begin{tabular}{cccl}
 \includegraphics[width=\figheightG]{scriptfigures/colorconv_slice_00000}&
 \includegraphics[width=\figheightG]{scriptfigures/colorconv_slice_00025}&
 \includegraphics[width=\figheightG]{scriptfigures/colorconv_slice_00050}\\
 \includegraphics[width=\figheightG]{scriptfigures/colorconv_slice_00075}&
 \includegraphics[width=\figheightG]{scriptfigures/colorconv_slice_00100}&
 \includegraphics[width=\figheightG]{scriptfigures/colorconv_slice_00125}\\
 \includegraphics[width=\figheightG]{scriptfigures/colorconv_slice_00150}&
 \includegraphics[width=\figheightG]{scriptfigures/colorconv_slice_00175}&
 \includegraphics[width=\figheightG]{scriptfigures/colorconv_slice_00200}\\
 \includegraphics[width=\figheightG]{scriptfigures/colorconv_slice_00225}&
 \includegraphics[width=\figheightG]{scriptfigures/colorconv_slice_00250}&
 \includegraphics[width=\figheightG]{scriptfigures/colorconv_slice_00275}\\
 \includegraphics[width=\figheightG]{scriptfigures/colorconv_slice_00300}&
 \includegraphics[width=\figheightG]{scriptfigures/colorconv_slice_00325}&
 \includegraphics[width=\figheightG]{scriptfigures/colorconv_slice_10000}\\
&&&\raisebox{0.0in}[0pt]{\includegraphics[height=8.0in]{figures/colorbar_20_100}}\\
\end{tabular}
\end{center}
 \caption[Color conversion test.]{Color conversion test.  Temperature between 20~\degC\ and 100~\degC\ are
 converted to colors between blue and red.}
\label{figcolorconv}%
\end{figure}

\section{GPU Test}
Figure \ref{figgputest} tests whether Smokeview produces identical images when using the GPU and CPU for drawing 3D smoke.  The first column shows CPU generated images at 5, 10 and 30 seconds while the second column shows GPU generated images at the same times.  The corresponding images in each column should be identical.

\begin{figure}[\figoptions]
\begin{center}
\begin{tabular}{cc}
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_smoke_nongpu_05}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_smoke_gpu_05}\\
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_smoke_nongpu_10}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_smoke_gpu_10}\\
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_smoke_nongpu_30}&
 \includegraphics[height=\figheightD]{scriptfigures/plume5c_smoke_gpu_30}\\
 CPU generated&GPU generated\\
 \end{tabular}
\end{center}
 \caption[GPU smoke drawing test]{GPU smoke drawing test}
\label{figgputest}%
\end{figure}

\chapter{Future Work}
General strategies for improving Smokeview's ability to visualize cases and therefore to improve the understanding of computed fire flow are discussed in the Smokeview Technical Guide~\cite{Smokeview_Verification_Guide_5}.   The plume cases in this document are set up so that a portion of the interior domain is initialized to a known temperature.  The reader can then perform a quantitative comparison to verify that the various visualization types are being drawn correctly - at least at $t=0$ where the values to be visualized are known.  This is also the case with the 3D smoke.  The 3D smoke case is set up so that the obscuration levels are known.
Some areas of future work pertaining to the verification of Smokeview include improving the quantitative verification of Smokeview's visualization algorithms - to take those verifications that are now qualitative and add a quantitative component.  In the qualitative verifications, a figure caption describes what the figure should look like and the reader notes whether the figure and caption are consistent - this is the verification.  A second area of improvement is to add more cases to this document, to verify more aspects of Smokeview.  In the final analysis, Smokeview is now complex to the point that it is difficult to verify its features by simply running it manually.  Automatic verification methods are required to ensure that all of its features, at least those features that are checked are working as designed.



\bibliography{../Bibliography/FDS_refs,../Bibliography/FDS_general,../Bibliography/FDS_mathcomp,../Bibliography/sv_fire,../Bibliography/sv_graphics}
\addcontentsline{toc}{chapter}{References}

\appendix
\addcontentsline{toc}{chapter}{Appendices}

\chapter{Input Files}
\label{fdsinputfiles}
\section{plume5c}
\label{FDSplume5c}
\fdsinput{plume5c.fds}

\section{fire\_line}
\label{FDSfireline}
\fdsinput{fire_line.fds}

\section{smoke\_sensor}
\label{FDSsmokesensor}
\fdsinput{smoke_sensor.fds}

\section{smoke\_test}
\label{FDSsmoketest}
\fdsinput{smoke_test.fds}

\section{smoke\_test2}
\label{FDSsmoketest2}
\fdsinput{smoke_test2.fds}

\section{colorconv}
\label{FDScolorconv}
\fdsinput{colorconv.fds}

\chapter{Smokeview Scripts}
\label{smvscripts}
\section{plume5c}
\label{SSFplume5c}
\fdsinput{plume5c.ssf}

\section{fire\_line}
\label{SSFfireline}
\fdsinput{fire_line.ssf}

\section{smoke\_sensor}
\label{SSFsmokesensor}
\fdsinput{smoke_sensor.ssf}

\section{smoke\_test}
\label{SSFsmoketest}
\fdsinput{smoke_test.ssf}

\section{smoke\_test2}
\label{SSFsmoketest2}
\fdsinput{smoke_test2.ssf}

\section{colorconv}
\label{SSFcolorconv}
\fdsinput{colorconv.ssf}

\end{document}
