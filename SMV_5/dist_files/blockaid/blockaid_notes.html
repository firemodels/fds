<html>
<head>
<TITLE>Readme file for Blockaid, an FDS blockage converter</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" >
<h1>Blockaid Release Notes - December 3, 2007</h1>

<ul>
<li><a href="#overview">Overview</a>
<li><a href="#examples">Examples</a>
<li><a href="#other">Other Applications</a>
</ul>

<a name="overview"></a>
<h2>Overview</h2>
<p><img src="blockaid0.png" width=320 align="right"/>
<hr size="1">
<font size="-1">
The program <em>Blockaid</em> groups blockages together forming objects such as couches or stairs.
It then can replicate them one or more times while applying a specified rotation and/or translation amount.
</font>
<hr size="1">

<p>Blockaid reads in a file containing regular FDS &keywords plus additional
keywords (&BGRP, &EGRP, &GRP and &INCL) known only to Blockaid.
It uses these keywords
to output an FDS input file where specified
  groups of blockages, holes and vents are replicated, translated and/or rotated.
  These groups are surrounded by <tt>&BGRP</tt> and <tt>&EGRP</tt> as in:<br />
  <p><tt>
      &BGRP ID='group label' /<br />
 </tt>
        <p>&nbsp&nbsp&nbsp one or more <tt>&OBST, &VENT, &HOLE</tt> or <tt>&GRP</tt> lines<br />
<tt>          
      <p>&EGRP /<br />
 </tt>
<p>and expanded using <tt>&GRP /</tt> .  A library of objects may be stored in a separate file and included 
using <tt>&INCL file='file name' /</tt>
<p>Notes:
<ul>
<li>A group may be expanded using:
<tt> &GRP ID='group label' XYZ=x,y,z ROTATE=angle /</tt>
where <em>x,y,z</em> is the translation amount and <em>angle</em> is the rotation amount snapped to the 
  nearest 90 degrees. 
<li>Blockage/hole positions are stored in a group relative to a point defined by the <tt>ORIGIN=x,y,z</tt> parameter found on the <tt>&BGRP</tt> line.
<li>Text substitions may be performed by placing one or more
<tt>#keyword='value'</tt> terms on a <tt>&GRP</tt> 
or a <tt>&BGRP</tt> line.
Default keyword values may be specified on the <tt>&BGRP</tt> line.
These parameters may be over-ridden on the <tt>&GRP</tt> line.

<li>A collection of groups may be defined and stored in a file.  This file
  is referenced using the <tt>&INCL</tt> keyword as in<br />
  <tt>&INCL FILE='file name' /</tt>
<li>A group may be defined recurseivly in terms of other groups.
</UL>
  
<a name="examples"></a>
  <h2>Examples</h2>
  <h3>Arranging Furniture</h3>
<img src="blockaid1.png" width=320 align="right"/>
<hr size="1">
<font size="-1">
Each set of three couches is expanded using <tt>&GRP ID='LIVE1' ... /</tt> with various translation and rotation amounts applied.
The <tt>LIVE1</tt> group is in turn defined in terms of three <tt>COUCH</tt> groups.
</font>
<hr size="1">
 A group of blockages defining a couch:
<pre>
&BGRP ID='COUCH' ORIGIN=3.0,3.0,0.0 /
&OBST   XB= 3.0, 5.0, 3.5, 3.7, 0.5, 0.9  ,   RGB=128, 64, 32 /
&OBST   XB= 3.0, 3.2, 3.0, 3.5, 0.5, 0.6  ,   RGB= 64, 96, 64 /
&OBST   XB= 4.8, 5.0, 3.0, 3.5, 0.5, 0.6  ,   RGB= 32,128, 96 /
&OBST   XB= 3.0, 5.0, 3.0, 3.7, 0.0, 0.5  ,   RGB=  0,196,128 /
&HOLE   XB= 3.2, 4.8, 3.2, 3.5, 0.0, 0.4  /
&HOLE   XB= 3.1, 4.9, 3.5, 3.7, 0.0, 0.1  /
&EGRP /
</pre>
 
<p>A group of three couches defining a living room arrangement
with a default origin of <tt>ORIGIN=0.0,0.0,0.0</tt>:
<pre>
&BGRP ID='LIVE1' ORIGIN=0.0,0.0,0.0 /
&GRP ID='COUCH' XYZ=0.8,  0.0,0.0 ROTATE=180.0 /
&GRP ID='COUCH' XYZ=0.0,  0.8,0.0 ROTATE=90.0 /
&GRP ID='COUCH' XYZ=0.8,  3.0,0.0 ROTATE=0.0 /
&EGRP /
</pre>


<p>The <tt>&OBST</tt> and <tt>&HOLE</tt> keywords used by FDS to define 
couches in 4 living room arrangements
are expanded using:
<pre>
&GRP ID='LIVE1' XYZ=0.0,0.0,0.0 ROTATE=0.0 /
&GRP ID='LIVE1' XYZ=4.5,0.0,0.0 ROTATE=90.0 /
&GRP ID='LIVE1' XYZ=4.5,4.5 0.0 ROTATE=180.0 /
&GRP ID='LIVE1' XYZ=0.0,4.5,0.0 ROTATE=270.0 /
</pre>
<p>This example may be generated by downloading <a href="blockaid1.fof">blockaid1.fof</a> and
typing the following at a command line:
<pre>
blockaid blockaid1
fds5 blockaid1.fds
smokeview blockaid1
</pre>

<h3>Stairs</h3>
<img src="blockaid2.png" width=400 align="right"/>
<hr size="1">
<font size="-1">
A half set of stairs is defined using a <tt>&OBST</tt> line for each step. Two half stairs are combined forming a full set.
The full set is then replicated three times translating by the height of a story.
</font>
<hr size="1">
<p>Group of blockages to define a set of stairs for one half of a building story:</p>
<pre>
&BGRP ID='STAIRS' /
&OBST   XB= 0.0, 1.0, 0.0, 0.4, 0.0, 0.2  ,   COLOR='RED' /  stairwell
&OBST   XB= 0.0, 1.0, 0.3, 0.7, 0.2, 0.4  ,   RGB=100,50,25/  stairwell
&OBST   XB= 0.0, 1.0, 0.6, 1.0, 0.4, 0.6  ,   RGB=100,50,25/  stairwell
&OBST   XB= 0.0, 1.0, 0.9, 1.3, 0.6, 0.8  ,   RGB=100,50,25/  stairwell
&OBST   XB= 0.0, 1.0, 1.2, 1.6, 0.8, 1.0  ,   RGB=100,50,25/  stairwell
&OBST   XB= 0.0, 1.0, 1.5, 1.9, 1.0, 1.2  ,   RGB=100,50,25/  stairwell
&OBST   XB= 0.0, 1.0, 1.8, 2.2, 1.2, 1.4  ,   RGB=100,50,25/  stairwell
&OBST   XB= 0.0, 1.0, 2.1, 2.5, 1.4, 1.6  ,   RGB=100,50,25/  stairwell
&OBST   XB= 0.0, 1.0, 2.4, 2.8, 1.6, 1.8  ,   RGB=100,50,25/  stairwell
&OBST   XB= 0.0, 1.0, 2.7, 3.1, 1.8, 2.0  ,   RGB=100,50,25/  stairwell
&OBST   XB= 0.0, 1.0, 3.0, 3.4, 2.0, 2.2  ,   RGB=100,50,25/  stairwell
&OBST   XB= 0.0, 1.0, 3.3, 3.7, 2.2, 2.4  ,   RGB=100,50,25/  stairwell
&OBST   XB= 0.0, 1.0, 3.6, 4.0, 2.4, 2.6  ,   RGB=100,50,25/  stairwell
&OBST   XB= 0.9, 1.1, 0.0, 4.3, 0.0, 2.8  ,   COLOR='MAGENTA' /  stairwell
&OBST   XB= 0.0, 1.0, 3.9, 4.3, 2.6, 2.8  ,   COLOR='GREEN' /  stairwell
&OBST   XB= 0.0, 2.0, 4.3, 5.3, 2.6, 2.8  ,   COLOR='BLUE' /  stairwell
&EGRP /
</pre>

<p>Combine two sets of <em>half</em> stairs to form a full set of stairs:
<pre>
&BGRP ID='FULLSTAIRS' /
&GRP ID='STAIRS' XYZ=0.0,0.0,0.0 /
&GRP ID='STAIRS' XYZ=0.0,-1.0,2.8 ROTATE=180.0 /
&EGRP /
</pre>

<p>The &OBST keywords used by FDS to define the half-set, full-set and
three story set stairs are expanded by Blockaid using:
<pre>
&GRP ID='STAIRS' XYZ=0.0,1.0,0.0 /

&GRP ID='FULLSTAIRS' XYZ=2.2,1.0,0.0 /

&GRP ID='FULLSTAIRS' XYZ=4.4,1.0,0.0 /
&GRP ID='FULLSTAIRS' XYZ=4.4,1.0,5.6 /
&GRP ID='FULLSTAIRS' XYZ=4.4,1.0,11.2 /
</pre>

<p>This example may be generated by downloading <a href="blockaid2.fof">blockaid2.fof</a> and
typing the following at a command line:
<pre>
blockaid blockaid2
fds5 blockaid2.fds
smokeview blockaid2
</pre>

<h3>Keyword Expansion</h3>
<h4>Before Expansion</h4>
<img src="blockaid3.png" width=320 align="right"/>
Default keyword values may be specified on the <tt>&BGRP</tt> line.
Keywords begin with <strong>#</strong>.
Keyword values may be over-ridden on the <tt>&GRP</tt> line.  Define the group:
<pre>
&BGRP ID='COUCH' ORIGIN=3.0,3.0,0.0 #COLOR='196, 0, 0' /
&OBST   XB= 3.0, 5.0, 3.5, 3.7, 0.5, 0.9  ,   RGB=#COLOR /
&OBST   XB= 3.0, 3.2, 3.0, 3.5, 0.5, 0.6  ,   RGB=#COLOR /
&OBST   XB= 4.8, 5.0, 3.0, 3.5, 0.5, 0.6  ,   RGB=#COLOR /
&OBST   XB= 3.0, 5.0, 3.0, 3.7, 0.0, 0.5  ,   RGB=#COLOR /
&HOLE   XB= 3.2, 4.8, 3.2, 3.5, 0.0, 0.4  /
&HOLE   XB= 3.1, 4.9, 3.5, 3.7, 0.0, 0.1  /
&EGRP /
</pre>
<p>Expand the group:
<pre>
&GRP ID='COUCH' XYZ=0.0,  0.0,0.0 /  Use default color given on &BGRP line
&GRP ID='COUCH' XYZ=0.0,  2.0,0.0 #COLOR='0, 196,   0' /  Override default color
&GRP ID='COUCH' XYZ=0.0,  4.0,0.0 #COLOR='0,   0, 196'/   Override default color
</pre>
<h4>After Expansion</h4>

Expand couch group using #COLOR='0, 196, 0'
<pre>
&OBST   XB= 3.0, 5.0, 3.5, 3.7, 0.5, 0.9  ,   RGB=0, 196,   0 /
&OBST   XB= 3.0, 3.2, 3.0, 3.5, 0.5, 0.6  ,   RGB=0, 196,   0 /
&OBST   XB= 4.8, 5.0, 3.0, 3.5, 0.5, 0.6  ,   RGB=0, 196,   0 /
&OBST   XB= 3.0, 5.0, 3.0, 3.7, 0.0, 0.5  ,   RGB=0, 196,   0 /
&HOLE   XB= 3.2, 4.8, 3.2, 3.5, 0.0, 0.4  /
&HOLE   XB= 3.1, 4.9, 3.5, 3.7, 0.0, 0.1  /
</pre>
<p>This example may be generated by downloading <a href="blockaid3.fof">blockaid3.fof</a> and
typing the following at a command line:
<pre>
blockaid blockaid3
fds5 blockaid3.fds
smokeview blockaid3
</pre>
<a name="other"></a>
<h2>Other Applications</h2>
The original intent of Blockaid was to provide an easy means to define a set of blockages once and duplicate them one or more times
with differing placements and orientations.  However, with the <tt>&INCL</tt> keyword one may create a database of material properties 
using <tt>&MATL</tt> and <tt>&SURF</tt> keywords.  Since <tt>Blockaid</tt> creates a self contained FDS input file, there is not a problem 
of data later changing after a case has been run.  This was a problem with <tt>FDS4</tt> and earlier.

<p><hr>
<p><address>
<A HREF="http://www.bfrl.nist.gov" >Building and Fire Research Laboratory</A><BR>
<a href="http://www.nist.gov" >National Institute of Standards and Technology</a><br>
Gaithersburg, MD 20899
</address>


</BODY></HTML>
