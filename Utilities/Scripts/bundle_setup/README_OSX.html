<html>

<head>
<TITLE>OS X Install Notes</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" >
<h2>OS X Install Notes</h2>
<p><hr size="1">
<p><a href="http://fds-smv.googlecode.com/svn/trunk/FDS/trunk/Utilities/Scripts/bundle_setup/README_OSX.html">Latest version of these notes</a>

<p>The parallel (MPI) versions of FDS running under OS X require OpenMPI libraries to link to at runtime.
These libraries can be installed using the following steps.

<h2><a name="Installing_Open_MPI_from_precompiled_binaries"></a>Installing Open MPI from precompiled binaries<a href="#Installing_Open_MPI_from_precompiled_binaries"></a></h2><p>These are the steps to set up and run the MPI version of FDS on Mac OS X (tested on a Mac Pro running OS X 10.7). </p><ul><li>Download the latest 32- or 64-bit compiled version of the Open MPI libraries for OS X from <a href="https://bintray.com/nist-fire-research/releases/Open_MPI" rel="nofollow">https://bintray.com/nist-fire-research/releases/Open_MPI</a> </li><li>Copy the openmpi<tt>_</tt><tt>*</tt>.<tt>*</tt>.<tt>*</tt><tt>_</tt>osx<tt>_</tt><tt>*</tt>.tar.gz file to the /shared directory  (you will need to create this directory if it doesn&#x27;t currently exist). </li><li>cd to the /shared directory and run </li><pre>sudo tar xvzf openmpi_*.*.*_osx_*.tar.gz</pre></ul><blockquote>which will extract the Open MPI libraries to /shared/openmpi<tt>_</tt><tt>*</tt>. 
</blockquote><ul><li>Test the MPI version of FDS by typing </li><pre>fds_mpi</pre></ul><blockquote>and you should see the version number of FDS print with no errors. 
</blockquote><p>You can then run FDS MPI cases using the command: </p><pre>mpirun -np X fds_mpi fds_case.fds</pre><p>where <strong>X</strong> is the number of processors to use, <strong>fds_mpi</strong> is the FDS MPI executable, and <strong>fds_case.fds</strong> is the FDS case that you want to run. Note that you might need to add the location of mpirun (/shared/openmpi<tt>_</tt><tt>*</tt>) to your PATH to use the mpirun command. </p><h2><a name="(Alternative)_Compiling_Open_MPI_and_FDS"></a>(Alternative) Compiling Open MPI and FDS<a href="#(Alternative)_Compiling_Open_MPI_and_FDS"></a></h2><p>The above steps involve using a precompiled version of Open MPI. If you want to build Open MPI and FDS yourself, you can follow the steps below (tested on a Macbook Pro running OS X 10.8). </p><ul><li>Install Xcode (free from the Mac App Store), which includes the &quot;Developer Tools&quot;. </li><li>Also, install the &quot;Command Line Tools&quot; in Xcode (Preferences &gt; Downloads). </li><li>Install the OS X Intel C, C++, and Fortran compilers. Other compiler suites might work, but the official FDS builds use the Intel compiler suite. </li><li>Download and extract the latest 32- or 64-bit version of Open MPI from <a href="http://www.open-mpi.org/" rel="nofollow">http://www.open-mpi.org/</a> </li><li>cd to the directory that you extracted Open MPI to. </li><li>Install Open MPI using the Intel compiler suite; configure and install using: </li><pre>./configure --prefix /shared/openmpi_64 CC=icc CXX=icpc F77=ifort FC=ifort CFLAGS=-m64 CXXFLAGS=-m64 FFLAGS=-m64 FCFLAGS=-m64</pre></ul><blockquote>then type 
<pre>  make all install</pre></blockquote><ul><li>Build FDS MPI OS X version from the repository: </li><pre>  cd FDS_Compilation/mpi_intel_osx_64</pre></ul><blockquote>then 
<pre>  ./make_fds.sh</pre></blockquote><p>You can then run FDS MPI cases using the command: </p><pre>mpirun -np X fds_mpi_executable fds_case.fds</pre><p>where <strong>X</strong> is the number of processors to use, <strong>fds_mpi_execuatable</strong> is the FDS MPI executable that was built in the above steps, and <strong>fds_case.fds</strong> is the FDS case that you want to run. Note that you might need to add the location of mpirun (/shared/openmpi<tt>_</tt><tt>*</tt>) to your PATH to use the mpirun command. </p>

<hr>
<p><address>
<a href="http://www.nist.gov" >National Institute of Standards and Technology</a><br>
Gaithersburg, MD 20899
</address>


</BODY>
</HTML>
