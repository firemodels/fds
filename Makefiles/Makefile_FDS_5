# *** Intel ***
### Bryan

# Intel, Optimized

FFLAGS  = -O3 -axP -ip -static -vec_report0
CFLAGS  = -O -Dpp_noappend
FCOMPL  = ifort
CCOMPL  = icc

# Intel, Debug

#FFLAGS  = -FR  -O0 -auto -WB -traceback -g -fpe0 -fltconsistency -static
#CFLAGS  = -O -Dpp_noappend
#FCOMPL  = ifort
#CCOMPL  = icc

# Intel, Optimized, Parallel

#FFLAGS  = -O3 -axP -ip -vec_report0
#CFLAGS  = -O -Dpp_noappend
#FCOMPL  = mpif77
#CCOMPL  = icc

# Intel, Debug, Parallel

#FFLAGS  = -FR -check all -O0 -auto -WB -traceback -g -fpe0 -fltconsistency
#CFLAGS  = -O -Dpp_noappend
#FCOMPL  = mpif77
#CCOMPL  = icc


# *** OSX Intel ***

# OSX Intel, Optimized

FFLAGS  = -O3 -axP -ip -vec_report0
CFLAGS  = -O -Dpp_noappend -Dpp_OSX
FCOMPL  = ifort
CCOMPL  = icc

# OSX Intel, Optimized, Parallel

#FFLAGS  = -O3 -axP -ip -vec_report0
#CFLAGS  = -O -Dpp_noappend -Dpp_OSX
#FCOMPL  = mpif77
#CCOMPL  = icc


# *** Lahey ***

# Lahey, Optimized

#FFLAGS   = -O --tpp --staticlink --nap --nchk --npca --nsav --ntrace
#CFLAGS   = -O
#FCOMPL   = lf95
#CCOMPL   = gcc

# Lahey, Debug

#FFLAGS   = --swm 3909 --wo --tpp --chk --f95 -g --warn --staticlink
#CFLAGS   = -O
#FCOMPL   = lf95
#CCOMPL   = gcc

# Lahey, Optimized, Parallel

#FFLAGS  = -O --tpp --staticlink --nap --nchk --npca --nsav --ntrace
#CFLAGS  = -O
#FCOMPL  = hf77
#CCOMPL  = gcc
#INCLUDEDIR=/usr/local/include


# *** Absoft PPC OS X ***



# Name the executable whatever you want, put the SOURCE wherever you want

obj     = fds5_xxx
VPATH   = ../SOURCE

# Change main_xxx to either main or main_mpi in the rest of the file

.SUFFIXES:
.SUFFIXES: .c .f90 .o

.f90.o:
	$(FCOMPL) -c $(FFLAGS) $<
.c.o:
	$(CCOMPL) -c $(CFLAGS) $<

OBJECTS = isob.o prec.o smvv.o cons.o devc.o type.o mesh.o func.o irad.o  \
          ieva.o pois.o radi.o evac.o part.o \
          ctrl.o dump.o read.o mass.o wall.o fire.o pres.o \
          divg.o init.o  \
          velo.o  main_xxx.o \

APPLIC: $(OBJECTS)
	$(FCOMPL) $(FFLAGS) -o $(obj) $(OBJECTS)

isob.o : isob.c
smvv.o : smvv.f90 isob.c
prec.o : prec.f90
cons.o : cons.f90 prec.f90
type.o : type.f90 prec.f90 cons.f90
devc.o : devc.f90 prec.f90
pois.o : pois.f90 prec.f90
mesh.o : mesh.f90 prec.f90 type.f90
func.o : func.f90 prec.f90 cons.f90 type.f90 mesh.f90
ctrl.o : ctrl.f90 prec.f90 cons.f90 type.f90 mesh.f90 func.f90
irad.o : irad.f90 func.f90 prec.f90 cons.f90 type.f90 mesh.f90
ieva.o : ieva.f90 func.f90 prec.f90 cons.f90 type.f90 mesh.f90
fire.o : fire.f90 func.f90 prec.f90 cons.f90 type.f90 mesh.f90
wall.o : wall.f90 func.f90 prec.f90 cons.f90 type.f90 mesh.f90
velo.o : velo.f90 func.f90 prec.f90 cons.f90 type.f90 mesh.f90
divg.o : divg.f90 func.f90 prec.f90 cons.f90 type.f90 mesh.f90
mass.o : mass.f90 func.f90 prec.f90 cons.f90 type.f90 mesh.f90
radi.o : radi.f90 func.f90 prec.f90 cons.f90 type.f90 mesh.f90 irad.f90
evac.o : evac.f90 func.f90 prec.f90 cons.f90 type.f90 mesh.f90 ieva.f90
pres.o : pres.f90 func.f90 prec.f90 cons.f90 type.f90 mesh.f90 pois.f90
part.o : part.f90 func.f90 prec.f90 cons.f90 type.f90 mesh.f90 devc.f90
read.o : read.f90 func.f90 prec.f90 cons.f90 type.f90 mesh.f90 devc.f90 irad.f90
init.o : init.f90 func.f90 prec.f90 cons.f90 type.f90 mesh.f90 devc.f90 irad.f90 pois.f90
dump.o : dump.f90 func.f90 prec.f90 cons.f90 type.f90 mesh.f90 devc.f90 smvv.f90 isob.c
main_xxx.o : main_xxx.f90 func.f90 prec.f90 cons.f90 type.f90 mesh.f90 devc.f90 smvv.f90 isob.c mass.f90 divg.f90 velo.f90 wall.f90 fire.f90 irad.f90 ieva.f90 radi.f90 evac.f90 part.f90 dump.f90 read.f90 init.f90 pres.f90 pois.f90 ctrl.f90
